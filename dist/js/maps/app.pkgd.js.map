{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app.pkgd.js","src/js/App.jsx","src/js/container/Container.jsx","src/js/container/Gridster.jsx","src/js/container/NavBottom.jsx","src/js/container/NavTop.Form.jsx","src/js/container/NavTop.jsx","src/js/header/Header.jsx","src/js/lib/Uploader.js","src/js/lib/util.js","src/js/sidebar/Nav.jsx","src/js/sidebar/Sidebar.jsx","src/js/sidebar/UploadFiles.jsx"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","React","window","ReactDOM","Header","Container","Sidebar","App","createClass","displayName","saveWidth","$editor","$sidebar","show_sidebar","localStorage","getItem","getInitialState","componentDidMount","_this","this","$","findDOMNode","refs","editor","sidebar","on","container","navTop","scrollEvent","addClass","actGridster","attachImages","images","gridster","toggleSidebar","bool","setItem","width","toggleClass","css","resizeWidth","render","createElement","ref","className","uploadScript","preference","show","state","defaultUploadFiles","app","document","getElementById","self","./container/Container.jsx","./header/Header.jsx","./sidebar/Sidebar.jsx",2,"NavTop","Gridster","NavBottom","originalPreference","height","max_col","max_scale","outer_margin","inner_margin","action","dynamicParameter","updatePreference","params","setState","closeSetting","resetPreference","actAddBlcok","addBlock","actShuffleBlocks","shuffleBlocks","generate","log","update","reset","actAddBlock","props","./Gridster.jsx","./NavBottom.jsx","./NavTop.jsx",3,"util","$gridster","saveBlocks","create","pref","innnerMargin","outerMargin","append","each","k","parseInt","attr","children","resizeWrapWidth","widget_margins","widget_base_dimensions","max_cols","resize","enabled","max_size","data","margin_gridster","parent","margin_editor","width_sidebar","bodyWidth","outerWidth","clear","find","removeAttr","html","destroy","remove","removeClass","init","randomAddBlocks","block","sizeX","sizeY","$li","text","add_widget","count","max_width","max_height","getRandomRange","x","y","data-col","data-row","data-sizex","data-sizey","_this2","$block","not","total","baskets","push","forEach","assignImage","$target","image","$figure","background-image","background-position","background-size","prepend","id","../lib/util.js",4,"actGenerator","type","title","onClick",5,"form","propTypes","PropTypes","func","preventDefault","value","method","onSubmit","htmlhtmlFor","name","min","max","maxLength","defaultValue","required","htmlFor",6,"NavTopForm","show_form","fix","toggleSetting","target","closest","off","windowTop","scrollTop","$el","offset","top","./NavTop.Form.jsx",7,8,"_typeof","Symbol","iterator","obj","constructor","local","files","complete","reader","FileReader","result","onload","readAsDataURL","external","script","dir","url","xhr","XMLHttpRequest","FormData","formData","open","addEventListener","response","readyState","status","JSON","parse","decodeURIComponent","responseText","replace","message","send",9,"shuffle","j","Math","floor","random",10,"inputFile","onChange","upload","multiple","$input","replaceWith","val","clone","attach","toggleSelect",11,"Uploader","Nav","UploadFiles","string","array","uploader","getDefaultProps","uploadImages","importImages","is_loading","map","style","backgroundImage","uploadFiles","uploadDir","uploadUrl","loc","selectedKeys","confirm","alert","items","$items","sw","../lib/Uploader.js","./Nav.jsx","./UploadFiles.jsx",12,"is_multiSelect","dragTarget","CTRL","CMD","onKeydown","keyCode","onKeyUp","onSelect","currentKey","currentTarget","getAttribute","key","onDragStart","onDragEnd","img","_this3","item","data-key","draggable"],"mappings":"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","file":"app.pkgd.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\n\n// init components\nvar Header = require('./header/Header.jsx');\nvar Container = require('./container/Container.jsx');\nvar Sidebar = require('./sidebar/Sidebar.jsx');\n\n// App\nvar App = React.createClass({\n\n\tdisplayName: 'photo-layout-editor',\n\tsaveWidth: 0,\n\t$editor: null,\n\t$sidebar: null,\n\tshow_sidebar: localStorage.getItem('sidebar') != 'false',\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {};\n\t},\n\tcomponentDidMount: function componentDidMount() {\n\t\tvar _this = this;\n\n\t\tthis.$editor = $(ReactDOM.findDOMNode(this.refs.editor));\n\t\tthis.$sidebar = $(ReactDOM.findDOMNode(this.refs.sidebar));\n\n\t\t// scroll event\n\t\t$(window).on('scroll', function (e) {\n\t\t\t_this.refs.container.refs.navTop.scrollEvent();\n\t\t});\n\n\t\t// show sidebar\n\t\tif (this.show_sidebar) {\n\t\t\tthis.$editor.addClass('on-sidebar');\n\t\t}\n\n\t\t// play gridster\n\t\tthis.refs.container.actGridster();\n\t},\n\n\n\t/**\n  * Attach images\n  *\n  * @param {array} images\n  */\n\tattachImages: function attachImages(images) {\n\t\tthis.refs.container.refs.gridster.attachImages(images);\n\t},\n\n\n\t/**\n  * Toggle side bar\n  */\n\ttoggleSidebar: function toggleSidebar() {\n\t\tvar bool = !this.show_sidebar;\n\t\tlocalStorage.setItem('sidebar', bool);\n\t\tthis.show_sidebar = bool;\n\n\t\tthis.saveWidth = bool ? this.saveWidth + this.$sidebar.width() : this.saveWidth - this.$sidebar.width();\n\n\t\tthis.$editor.toggleClass('on-sidebar');\n\t\tthis.$editor.css('min-width', this.saveWidth);\n\t},\n\n\n\t/**\n  * Resize container width\n  *\n  * @param {int} width\n  */\n\tresizeWidth: function resizeWidth(width) {\n\t\tthis.saveWidth = this.show_sidebar ? width : width - this.$sidebar.width();\n\t\tthis.$editor.css('min-width', this.saveWidth);\n\t},\n\n\n\t/**\n  * render\n  */\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ ref: 'editor', className: 'ple-editor' },\n\t\t\tReact.createElement(Header, { ref: 'header' }),\n\t\t\tReact.createElement(Container, {\n\t\t\t\tref: 'container',\n\t\t\t\tresizeWidth: this.resizeWidth }),\n\t\t\tReact.createElement(Sidebar, {\n\t\t\t\tref: 'sidebar',\n\t\t\t\tuploadScript: preference.uploadScript,\n\t\t\t\tshow: this.state.show_sidebar,\n\t\t\t\ttoggleSidebar: this.toggleSidebar,\n\t\t\t\tattachImages: this.attachImages,\n\t\t\t\tdefaultUploadFiles: preference.defaultUploadFiles })\n\t\t);\n\t}\n});\n\n// render App\nwindow.app = ReactDOM.render(React.createElement(App, null), document.getElementById('app'));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./container/Container.jsx\":2,\"./header/Header.jsx\":7,\"./sidebar/Sidebar.jsx\":11}],2:[function(require,module,exports){\n'use strict';\n\nvar NavTop = require('./NavTop.jsx');\nvar Gridster = require('./Gridster.jsx');\nvar NavBottom = require('./NavBottom.jsx');\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'Container',\n\toriginalPreference: {},\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tpreference: {\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100,\n\t\t\t\tmax_col: 5,\n\t\t\t\tmax_scale: 2,\n\t\t\t\touter_margin: 10,\n\t\t\t\tinner_margin: 10\n\t\t\t},\n\t\t\taction: null,\n\t\t\tdynamicParameter: {}\n\t\t};\n\t},\n\tcomponentDidMount: function componentDidMount() {\n\t\tthis.originalPreference = this.state.preference;\n\t\tthis.gridster = this.refs.gridster;\n\t},\n\n\n\t/**\n  * Update preference\n  *\n  * @param {object} params\n  */\n\tupdatePreference: function updatePreference(params) {\n\t\tthis.setState({ preference: params, action: 'updatePreference' });\n\t\tthis.refs.navTop.closeSetting();\n\t},\n\n\n\t/**\n  * Reset preference\n  */\n\tresetPreference: function resetPreference() {\n\t\tthis.setState({ preference: this.originalPreference, action: null });\n\t},\n\n\n\t/**\n  * Play add block\n  */\n\tactAddBlcok: function actAddBlcok() {\n\t\tthis.refs.gridster.addBlock();\n\t},\n\n\n\t/**\n  * Play shuffle blocks\n  */\n\tactShuffleBlocks: function actShuffleBlocks() {\n\t\tthis.refs.gridster.shuffleBlocks();\n\t},\n\n\n\t/**\n  * Play Gridster\n  */\n\tactGridster: function actGridster() {\n\t\tthis.setState({ action: 'init' });\n\t},\n\n\n\t/**\n  * Generate\n  */\n\tgenerate: function generate() {\n\t\tlog('generate output');\n\t},\n\n\n\t/**\n  * render\n  */\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'ple-container' },\n\t\t\tReact.createElement(NavTop, {\n\t\t\t\tref: 'navTop',\n\t\t\t\tupdate: this.updatePreference,\n\t\t\t\treset: this.resetPreference,\n\t\t\t\tactAddBlock: this.actAddBlcok,\n\t\t\t\tactShuffleBlocks: this.actShuffleBlocks,\n\t\t\t\tpreference: this.state.preference }),\n\t\t\tReact.createElement(Gridster, {\n\t\t\t\tref: 'gridster',\n\t\t\t\tpreference: this.state.preference,\n\t\t\t\taction: this.state.action,\n\t\t\t\tresizeWidth: this.props.resizeWidth,\n\t\t\t\tdynamicParameter: this.state.dynamicParameter }),\n\t\t\tReact.createElement(NavBottom, {\n\t\t\t\tgenerate: this.generate })\n\t\t);\n\t}\n});\n\n},{\"./Gridster.jsx\":3,\"./NavBottom.jsx\":4,\"./NavTop.jsx\":6}],3:[function(require,module,exports){\n'use strict';\n\nvar util = require('../lib/util.js');\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'Gridster',\n\n\t$gridster: null,\n\tgridster: null,\n\tsaveBlocks: null,\n\n\tcomponentDidMount: function componentDidMount() {\n\t\tthis.$gridster = $(ReactDOM.findDOMNode(this.refs.gridster));\n\t},\n\n\n\t/**\n  * Create block\n  */\n\tcreate: function create() {\n\t\tvar pref = this.props.preference;\n\t\tvar innnerMargin = pref.inner_margin * 0.5;\n\t\tvar outerMargin = innnerMargin + pref.outer_margin;\n\n\t\t// set styles\n\t\tthis.$gridster.css('padding', outerMargin + 'px').append('<ul/>');\n\n\t\t// restore blocks\n\t\tif (this.saveBlocks) {\n\t\t\tthis.saveBlocks.each(function (k, o) {\n\t\t\t\tif (parseInt($(o).attr('data-col')) > pref.max_col) {\n\t\t\t\t\t$(o).attr('data-col', pref.max_col);\n\t\t\t\t}\n\t\t\t\tif (parseInt($(o).attr('data-sizex')) > pref.max_scale) {\n\t\t\t\t\t$(o).attr('data-sizex', pref.max_scale);\n\t\t\t\t}\n\t\t\t\tif (parseInt($(o).attr('data-sizey')) > pref.max_scale) {\n\t\t\t\t\t$(o).attr('data-sizey', pref.max_scale);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.$gridster.children('ul').append(this.saveBlocks);\n\t\t}\n\n\t\t// resize wrap width\n\t\tthis.resizeWrapWidth();\n\n\t\t// init gridster\n\t\tthis.gridster = this.$gridster.children('ul').gridster({\n\t\t\twidget_margins: [innnerMargin, innnerMargin],\n\t\t\twidget_base_dimensions: [pref.width, pref.height],\n\t\t\tmax_cols: pref.max_col,\n\t\t\tresize: {\n\t\t\t\tenabled: true,\n\t\t\t\tmax_size: [pref.max_scale, pref.max_scale]\n\t\t\t}\n\t\t}).data('gridster');\n\t},\n\n\n\t/**\n  * Resize container\n  */\n\tresizeWrapWidth: function resizeWrapWidth() {\n\t\tvar pref = this.props.preference;\n\t\tvar width = pref.width * pref.max_col + pref.max_col * pref.inner_margin;\n\t\tthis.$gridster.width(width);\n\n\t\tvar margin_gridster = parseInt(this.$gridster.parent().css('padding-left')) * 2;\n\t\tvar margin_editor = parseInt($('.ple-editor').css('padding')) * 2;\n\t\tvar width_sidebar = $('.ple-sidebar').width();\n\t\tvar bodyWidth = this.$gridster.outerWidth() + margin_gridster + margin_editor + width_sidebar;\n\n\t\tthis.props.resizeWidth(bodyWidth);\n\t},\n\n\n\t/**\n  * Clear blocks\n  */\n\tclear: function clear() {\n\t\tthis.$gridster.find('li').removeAttr('style class');\n\t\tthis.saveBlocks = $(this.$gridster.children('ul').html());\n\t\tthis.gridster.destroy(true);\n\t\tthis.$gridster.children().remove();\n\t\tthis.$gridster.removeClass('ready').removeAttr('style');\n\t},\n\n\n\t/**\n  * Init gridster\n  */\n\tinit: function init() {\n\t\tthis.create();\n\t\tthis.randomAddBlocks(5, this.props.preference.max_scale, this.props.preference.max_scale);\n\t},\n\n\n\t/**\n  * Update preference\n  */\n\tupdatePreference: function updatePreference() {\n\t\tthis.clear();\n\t\tthis.create();\n\t},\n\n\n\t/**\n  * Make block\n  *\n  * @param {object} params\n  */\n\tblock: function block(params) {\n\t\tif (!params.sizeX || !params.sizeY) return false;\n\n\t\tvar $li = $('<li>' + (params.text ? params.text : '') + '</li>');\n\n\t\tthis.gridster.add_widget($li, params.sizeX, params.sizeY, false);\n\t},\n\n\n\t/**\n  * Random add blocks\n  *\n  * @param {int} count\n  * @param {int} max_width\n  * @param {int} max_height\n  */\n\trandomAddBlocks: function randomAddBlocks(count, max_width, max_height) {\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.block({\n\t\t\t\tsizeX: util.getRandomRange(1, max_width),\n\t\t\t\tsizeY: util.getRandomRange(1, max_height)\n\t\t\t});\n\t\t}\n\t},\n\n\n\t/**\n  * Add block\n  *\n  * @param {int} x\n  * @param {int} y\n  */\n\taddBlock: function addBlock(x, y) {\n\t\tx = x || 1;\n\t\ty = y || 1;\n\t\tx = x > this.props.preference.max_scale ? this.props.preference.max_scale : x;\n\t\ty = y > this.props.preference.max_scale ? this.props.preference.max_scale : y;\n\t\tthis.block({ sizeX: x, sizeY: y });\n\t},\n\n\n\t/**\n  * Shuffle blocks\n  */\n\tshuffleBlocks: function shuffleBlocks() {\n\t\tvar _this = this;\n\n\t\tthis.clear();\n\n\t\tthis.saveBlocks.each(function (k, o) {\n\t\t\t$(o).attr({\n\t\t\t\t'data-col': util.getRandomRange(1, _this.props.preference.max_col),\n\t\t\t\t'data-row': util.getRandomRange(1, 2),\n\t\t\t\t'data-sizex': util.getRandomRange(1, _this.props.preference.max_scale),\n\t\t\t\t'data-sizey': util.getRandomRange(1, _this.props.preference.max_scale)\n\t\t\t});\n\t\t});\n\n\t\tthis.create();\n\t},\n\n\n\t/**\n  * Attach images\n  *\n  * @param {array} images\n  */\n\tattachImages: function attachImages(images) {\n\t\tvar _this2 = this;\n\n\t\tvar $block = this.$gridster.find('li').not('.attached');\n\n\t\tif (images.length > $block.length) {\n\t\t\tvar total = images.length - $block.length;\n\t\t\tfor (var i = 0; i < total; i++) {\n\t\t\t\tthis.addBlock();\n\t\t\t}\n\t\t\t$block = this.$gridster.find('li').not('.attached');\n\t\t}\n\n\t\tvar baskets = [];\n\t\t$block.each(function (k, o) {\n\t\t\tif (!$(o).children('figure').length && k < images.length) {\n\t\t\t\tbaskets.push(o);\n\t\t\t}\n\t\t});\n\n\t\tbaskets.forEach(function (o, k) {\n\t\t\t_this2.assignImage($(o), images[k]);\n\t\t});\n\t},\n\n\n\t/**\n  * Assign image\n  *\n  * @param {object} $target\n  * @param {string} image\n  */\n\tassignImage: function assignImage($target, image) {\n\t\tvar $figure = $('<figure/>');\n\t\t$figure.css({\n\t\t\t'background-image': 'url(' + image + ')',\n\t\t\t'background-position': '50% 50%',\n\t\t\t'background-size': 'cover'\n\t\t});\n\t\t$target.addClass('attached').prepend($figure);\n\t},\n\n\n\t/**\n  * render\n  */\n\trender: function render() {\n\t\t// act action\n\t\tif (typeof this[this.props.action] === 'function') {\n\t\t\tthis[this.props.action]();\n\t\t}\n\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'gridster-wrap' },\n\t\t\tReact.createElement('div', { ref: 'gridster', className: 'gridster', id: 'gridster' })\n\t\t);\n\t}\n});\n\n},{\"../lib/util.js\":9}],4:[function(require,module,exports){\n'use strict';\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'Nav-bottom',\n\n\tactGenerator: function actGenerator() {\n\t\tlog('ACTION GENERATE');\n\t},\n\n\n\t/**\n  * render\n  */\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t'nav',\n\t\t\t{ className: 'nav-bottom' },\n\t\t\tReact.createElement(\n\t\t\t\t'button',\n\t\t\t\t{ type: 'button', title: 'Generate export', onClick: this.props.generate },\n\t\t\t\tReact.createElement('i', { className: 'sp-ico ico-check' }),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Generate'\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'NavTop-Form',\n\tform: null,\n\n\tpropTypes: {\n\t\tupdate: React.PropTypes.func\n\t},\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {};\n\t},\n\tcomponentDidMount: function componentDidMount() {\n\t\tthis.form = ReactDOM.findDOMNode(this.refs.form);\n\t},\n\tupdate: function update(e) {\n\t\te.preventDefault();\n\t\tthis.props.update({\n\t\t\twidth: parseInt(this.form.width.value),\n\t\t\theight: parseInt(this.form.height.value),\n\t\t\tmax_col: parseInt(this.form.max_col.value),\n\t\t\tmax_scale: parseInt(this.form.max_scale.value),\n\t\t\touter_margin: parseInt(this.form.outer_margin.value),\n\t\t\tinner_margin: parseInt(this.form.inner_margin.value)\n\t\t});\n\t},\n\n\n\t/**\n  * render\n  */\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t\"article\",\n\t\t\t{ className: \"form\", id: \"settings\" },\n\t\t\tReact.createElement(\n\t\t\t\t\"form\",\n\t\t\t\t{ method: \"post\", ref: \"form\", onSubmit: this.update },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t\"fieldset\",\n\t\t\t\t\tnull,\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"legend\",\n\t\t\t\t\t\t{ className: \"blind\" },\n\t\t\t\t\t\t\"Settings form\"\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"h1\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\"Settings\"\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlhtmlFor: \"frm_name\" },\n\t\t\t\t\t\t\t\t\"Min Width\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"width\", id: \"frm_name\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"999\", maxLength: \"3\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.width,\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"px\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_height\" },\n\t\t\t\t\t\t\t\t\"Min Height\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"height\", id: \"frm_height\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"999\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.height }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"px\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_max_col\" },\n\t\t\t\t\t\t\t\t\"Max Column\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"max_col\", id: \"frm_max_col\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"99\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.max_col }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"ea\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_max_scale\" },\n\t\t\t\t\t\t\t\t\"Max Scale\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"max_scale\", id: \"frm_max_scale\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"99\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.max_scale }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"x\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_outer_margin\" },\n\t\t\t\t\t\t\t\t\"Outer Margin\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"outer_margin\", id: \"frm_outer_margin\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"500\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.outer_margin }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"px\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_inner_margin\" },\n\t\t\t\t\t\t\t\t\"Inner Margin\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"inner_margin\", id: \"frm_inner_margin\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"500\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.inner_margin }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"px\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t\"nav\",\n\t\t\t\t\tnull,\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"button\",\n\t\t\t\t\t\t\t{ type: \"reset\", onClick: this.props.reset },\n\t\t\t\t\t\t\t\"Reset\"\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"button\",\n\t\t\t\t\t\t\t{ type: \"submit\", className: \"submit\" },\n\t\t\t\t\t\t\t\"Apply\"\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],6:[function(require,module,exports){\n'use strict';\n\n// init components\nvar NavTopForm = require('./NavTop.Form.jsx');\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'NavTop',\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tshow_form: false,\n\t\t\tfix: false\n\t\t};\n\t},\n\n\n\t/**\n  * CLICK EVENTS\n  */\n\n\t/**\n  * Toggle setting form\n  */\n\ttoggleSetting: function toggleSetting() {\n\t\tvar self = this;\n\t\tif (!this.state.show_form == true) {\n\t\t\t$(document).on('click', function (e) {\n\t\t\t\tif (!$(e.target).closest('#settings').length) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$(this).off('click');\n\t\t\t\t\tself.setState({ show_form: false });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.setState({ show_form: !this.state.show_form });\n\t},\n\n\n\t/**\n  * Close setting layer\n  */\n\tcloseSetting: function closeSetting() {\n\t\t$(document).off('click');\n\t\tthis.setState({ show_form: false });\n\t},\n\n\n\t/**\n  * Play scroll event\n  */\n\tscrollEvent: function scrollEvent() {\n\t\tvar windowTop = $(window).scrollTop();\n\t\tvar $el = $(ReactDOM.findDOMNode(this));\n\t\tif ($el.offset().top < windowTop) {\n\t\t\tthis.setState({ fix: true });\n\t\t} else {\n\t\t\tthis.setState({ fix: false });\n\t\t}\n\t},\n\n\n\t/**\n  * RENDER\n  */\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'nav-top-wrap' },\n\t\t\tReact.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'nav-top' + (this.state.fix ? ' fix' : '') },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'block' + (this.state.show_form ? ' is-active' : '') },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'Edit preference', onClick: this.toggleSetting },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-setting abs' },\n\t\t\t\t\t\t\t'Setting'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(NavTopForm, {\n\t\t\t\t\t\tupdate: this.props.update,\n\t\t\t\t\t\treset: this.props.reset,\n\t\t\t\t\t\tpreference: this.props.preference })\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'block' },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'Shuffle block', onClick: this.props.actShuffleBlocks },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-arrow-random abs' },\n\t\t\t\t\t\t\t'Random block'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'block' },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'Add block', onClick: this.props.actAddBlock },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-plus abs' },\n\t\t\t\t\t\t\t'Add block'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{\"./NavTop.Form.jsx\":5}],7:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'Header',\n\n\tcomponentDidMount: function componentDidMount() {},\n\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t\"header\",\n\t\t\t{ className: \"ple-header\" },\n\t\t\tReact.createElement(\n\t\t\t\t\"h1\",\n\t\t\t\tnull,\n\t\t\t\t\"Photo Layout Editor\"\n\t\t\t),\n\t\t\tReact.createElement(\n\t\t\t\t\"p\",\n\t\t\t\tnull,\n\t\t\t\t\"사진 레이아웃 에디터입니다. 처음 시작하면 먼저 문서설정을 해주세요!\"\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nmodule.exports = function Uploader() {\n\t/**\n  * Local upload\n  *\n  * @param {Array} files\n  * @param {Function} complete\n  * @return {Array}\n  */\n\tthis.local = function (files, complete) {\n\t\tvar reader = new FileReader();\n\t\tvar i = 0;\n\t\tvar result = [];\n\t\treader.onload = function (e) {\n\t\t\tresult.push(e.target.result);\n\n\t\t\t// check last queue\n\t\t\tif (i == files.length - 1) {\n\t\t\t\tcomplete(result);\n\t\t\t} else {\n\t\t\t\t// trigger next queue\n\t\t\t\ti++;\n\t\t\t\treader.readAsDataURL(files[i]);\n\t\t\t}\n\t\t};\n\t\treader.readAsDataURL(files[i]);\n\t};\n\n\t/**\n  * External upload\n  *\n  * @param {String} script\n  * @param {String} dir\n  * @param {String} url\n  * @param {Array} files\n  * @param {Function} complete\n  * @return {Array}\n  */\n\tthis.external = function (script, dir, url, files, complete) {\n\t\tvar xhr = new XMLHttpRequest();\n\n\t\tif (typeof FormData === 'function' || (typeof FormData === 'undefined' ? 'undefined' : _typeof(FormData)) === 'object') {\n\t\t\tvar formData = new FormData();\n\n\t\t\tfor (var i = 0; i < files.length; i++) {\n\t\t\t\tformData.append('files[]', files[i]);\n\t\t\t}\n\t\t\tformData.append('dir', dir);\n\t\t\tformData.append('url', url);\n\n\t\t\txhr.open('post', script, true);\n\t\t\txhr.addEventListener('load', function (e) {\n\t\t\t\tvar response = null;\n\t\t\t\tif (e.target.readyState == 4) {\n\t\t\t\t\tswitch (e.target.status) {\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar result = JSON.parse(decodeURIComponent(e.target.responseText.replace(/\\+/g, '%20')));\n\t\t\t\t\t\t\t\tcomplete(result);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tcomplete({\n\t\t\t\t\t\t\t\t\t'state': 'error',\n\t\t\t\t\t\t\t\t\t'message': e.target.responseText\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 404:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate: 'error',\n\t\t\t\t\t\t\t\tmessage: '404 - File not found'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 403:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate: 'error',\n\t\t\t\t\t\t\t\tmessage: '403 - Forbidden file type'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate: 'error',\n\t\t\t\t\t\t\t\tmessage: 'Unknown Error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresponse = {\n\t\t\t\t\t\tstate: 'error',\n\t\t\t\t\t\tmessage: 'Unknown Error'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\txhr.send(formData);\n\t\t}\n\n\t\treturn null;\n\t};\n};\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = {\n\n\t/**\n  * Shuffle items\n  *\n  * @param o\n  * @returns {*}\n  */\n\t// TODO : 인수 타입 확인해보고 주석에 있는 타입 변경하기\n\tshuffle: function shuffle(o) {\n\t\tfor (var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x) {}\n\t\treturn o;\n\t},\n\n\t/**\n  * Random item in range\n  * @param {int} min\n  * @param {int} max\n  * @returns {number}\n  */\n\tgetRandomRange: function getRandomRange(min, max) {\n\t\tmax += 1;\n\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t}\n};\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'Navigation',\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tinputFile: React.createElement('input', { type: 'file', onChange: this.upload, multiple: true })\n\t\t};\n\t},\n\n\n\t/**\n  * Attach images\n  */\n\tattachImages: function attachImages() {\n\t\tlog('attach image to grid block');\n\t},\n\n\n\t/**\n  * Upload images\n  *\n  * @param {Event} e\n  */\n\tupload: function upload(e) {\n\t\tthis.props.upload(e.target.files);\n\n\t\t// reset input[type=file]\n\t\tvar $input = $(this.refs.inputFile);\n\t\t$input.replaceWith($input.val('').clone(true));\n\t},\n\n\n\t/**\n  * render\n  */\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t'nav',\n\t\t\t{ className: 'nav-top' },\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'wrap' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: 'attach images', onClick: this.props.attach },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico ico-arrow-left abs' },\n\t\t\t\t\t\t'Moving the image to grid block'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: 'toggle select', onClick: this.props.toggleSelect },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico ico-select abs' },\n\t\t\t\t\t\t'Toggle all select'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ title: 'upload images' },\n\t\t\t\t\tReact.createElement('input', { type: 'file', ref: 'inputFile', onChange: this.upload, multiple: true }),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico ico-upload abs' },\n\t\t\t\t\t\t'upload images'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: 'remove images', onClick: this.props.remove },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico ico-trash abs' },\n\t\t\t\t\t\t'remove images'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nvar Uploader = require('../lib/Uploader.js');\nvar Nav = require('./Nav.jsx');\nvar UploadFiles = require('./UploadFiles.jsx');\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'Sidebar',\n\n\tpropTypes: {\n\t\tuploadScript: React.PropTypes.string,\n\t\tdefaultUploadFiles: React.PropTypes.array\n\t},\n\n\tuploader: new Uploader(),\n\n\tgetDefaultProps: function getDefaultProps() {\n\t\treturn {\n\t\t\tuploadScript: null\n\t\t};\n\t},\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tuploadImages: this.importImages(this.props.defaultUploadFiles),\n\t\t\tis_loading: false\n\t\t};\n\t},\n\n\n\t/**\n  * Import images\n  *\n  * @param {array} files\n  * @return {array}\n  * */\n\timportImages: function importImages(files) {\n\t\tfiles = files || [];\n\t\treturn files.map(function (o) {\n\t\t\treturn {\n\t\t\t\ton: false,\n\t\t\t\timage: o,\n\t\t\t\tstyle: { backgroundImage: 'url(' + o + ')' }\n\t\t\t};\n\t\t});\n\t},\n\n\n\t/**\n  * upload images\n  *\n  * @Param {Files} files\n  */\n\tupload: function upload(files) {\n\t\tvar _this = this;\n\n\t\tvar uploadFiles = [];\n\n\t\tfor (var i = 0; i < files.length; i++) {\n\t\t\tuploadFiles.push(files[i]);\n\t\t}\n\n\t\t// on loading\n\t\tthis.setState({ is_loading: true });\n\n\t\t// action upload\n\t\tif (this.props.uploadScript) {\n\t\t\t// is external script upload\n\t\t\tthis.uploader.external(this.props.uploadScript, this.props.uploadDir, this.props.uploadUrl, uploadFiles, function (response) {\n\t\t\t\t_this.setState({ is_loading: false });\n\n\t\t\t\tif (response.state == 'success') {\n\t\t\t\t\tvar data = response.images;\n\n\t\t\t\t\tdata.forEach(function (o) {\n\t\t\t\t\t\t_this.state.uploadImages.push({\n\t\t\t\t\t\t\ton: false,\n\t\t\t\t\t\t\timage: o.loc,\n\t\t\t\t\t\t\tstyle: { backgroundImage: 'url(' + o.loc + ')' }\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_this.setState({\n\t\t\t\t\t\tuploadImages: _this.state.uploadImages\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlog(response.message);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// is local upload\n\t\t\tthis.setState({ is_loading: true });\n\t\t\tthis.uploader.local(uploadFiles, function (data) {\n\t\t\t\tvar result = _this.state.uploadImages;\n\t\t\t\t_this.setState({ is_loading: false });\n\n\t\t\t\tdata.forEach(function (o) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ton: false,\n\t\t\t\t\t\timage: o,\n\t\t\t\t\t\tstyle: { backgroundImage: 'url(' + o + ')' }\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t_this.setState({ uploadImages: result });\n\t\t\t});\n\t\t}\n\t},\n\tremove: function remove() {\n\t\tvar _this2 = this;\n\n\t\tvar selectedKeys = [];\n\n\t\tif (!this.state.uploadImages.length) {\n\t\t\talert('이미지가 없습니다.');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state.uploadImages.forEach(function (o, k) {\n\t\t\tif (o.on) {\n\t\t\t\tselectedKeys.push(k);\n\t\t\t}\n\t\t});\n\n\t\tif (selectedKeys.length) {\n\t\t\tselectedKeys.forEach(function (o) {\n\t\t\t\tdelete _this2.state.uploadImages[o];\n\t\t\t});\n\t\t\tthis.setState({ uploadImages: this.state.uploadImages });\n\t\t} else {\n\t\t\tif (confirm('선택된 사진이 없습니다. 전부 삭제할까요?')) {\n\t\t\t\tthis.setState({ uploadImages: [] });\n\t\t\t}\n\t\t}\n\t},\n\tattach: function attach() {\n\t\tvar items = [];\n\t\tthis.state.uploadImages.forEach(function (o) {\n\t\t\tif (o.on) {\n\t\t\t\titems.push(o.image);\n\t\t\t}\n\t\t});\n\t\tif (items.length) {\n\t\t\tthis.props.attachImages(items);\n\t\t} else {\n\t\t\talert('please select image');\n\t\t\treturn false;\n\t\t}\n\t},\n\ttoggleSelect: function toggleSelect() {\n\t\tvar items = this.state.uploadImages;\n\t\tvar $items = $(ReactDOM.findDOMNode(this.refs.files));\n\t\tvar sw = $items.find('span.on').length > 0;\n\t\titems.forEach(function (o) {\n\t\t\to.on = !sw;\n\t\t});\n\t\tthis.setState({ uploadImages: items });\n\t},\n\tupdate: function update(data) {\n\t\tthis.setState({ uploadImages: data });\n\t},\n\n\n\t/**\n  * render\n  */\n\trender: function render() {\n\t\treturn React.createElement(\n\t\t\t'aside',\n\t\t\t{ className: 'ple-sidebar' + (this.state.is_loading ? ' loading' : '') },\n\t\t\tReact.createElement(\n\t\t\t\t'button',\n\t\t\t\t{ type: 'button', onClick: this.props.toggleSidebar, className: 'toggle' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico abs' + (this.props.show ? ' ico-arrow-right2' : ' ico-arrow-left2') },\n\t\t\t\t\t\t'Toggle sidebar'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tReact.createElement(Nav, { ref: 'nav',\n\t\t\t\tupload: this.upload,\n\t\t\t\tremove: this.remove,\n\t\t\t\tattach: this.attach,\n\t\t\t\ttoggleSelect: this.toggleSelect }),\n\t\t\tReact.createElement(UploadFiles, { ref: 'files',\n\t\t\t\tuploadImages: this.state.uploadImages,\n\t\t\t\tupdate: this.update })\n\t\t);\n\t}\n});\n\n},{\"../lib/Uploader.js\":8,\"./Nav.jsx\":10,\"./UploadFiles.jsx\":12}],12:[function(require,module,exports){\n'use strict';\n\nmodule.exports = React.createClass({\n\n\tdisplayName: 'UploadFiles',\n\n\tpropTypes: {\n\t\tuploadImages: React.PropTypes.array,\n\t\tupdate: React.PropTypes.func\n\t},\n\tis_multiSelect: false,\n\n\t$gridster: null,\n\tdragTarget: null,\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {};\n\t},\n\tcomponentDidMount: function componentDidMount() {\n\t\tvar _this = this;\n\n\t\tvar CTRL = 17;\n\t\tvar CMD = 91;\n\n\t\tvar onKeydown = function onKeydown(e) {\n\t\t\tif (e.keyCode == CTRL || e.keyCode == CMD) {\n\t\t\t\t_this.is_multiSelect = true;\n\t\t\t\t$(window).off('keydown').on('keyup', onKeyUp);\n\t\t\t}\n\t\t};\n\n\t\tvar onKeyUp = function onKeyUp() {\n\t\t\t_this.is_multiSelect = false;\n\t\t\t$(window).off('keyup').on('keydown', onKeydown);\n\t\t};\n\n\t\t$(window).on('keydown', onKeydown);\n\n\t\tthis.$gridster = $('.gridster');\n\t},\n\n\n\t/**\n  * on select item\n  *\n  * @param {event} e\n  */\n\tonSelect: function onSelect(e) {\n\t\tvar currentKey = parseInt(e.currentTarget.getAttribute('data-key'));\n\t\tvar uploadImages = this.props.uploadImages;\n\n\t\tif (this.is_multiSelect) {\n\t\t\tuploadImages[currentKey].on = !uploadImages[currentKey].on;\n\t\t} else {\n\t\t\tuploadImages.forEach(function (data, key) {\n\t\t\t\tdata.on = key == currentKey ? !data.on : false;\n\t\t\t});\n\t\t}\n\n\t\tthis.props.update(uploadImages);\n\t},\n\n\n\t/**\n  * on drag start\n  *\n  * @param {event} e\n  */\n\tonDragStart: function onDragStart(e) {\n\t\tvar _this2 = this;\n\n\t\tthis.$gridster.find('li').on('dragover', function (e) {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).addClass('hover');\n\t\t}).on('dragleave', function (e) {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('hover');\n\t\t}).on('drop', function (e) {\n\t\t\te.preventDefault();\n\t\t\t_this2.dragTarget = e.currentTarget;\n\t\t});\n\t},\n\n\n\t/**\n  * on drag end\n  *\n  * @param {event} e\n  */\n\tonDragEnd: function onDragEnd(e) {\n\t\tthis.$gridster.find('li').removeClass('hover').off('dragover dragleave drop');\n\n\t\tif (this.dragTarget) {\n\t\t\tvar img = this.props.uploadImages[parseInt(e.currentTarget.getAttribute('data-key'))].image;\n\t\t\twindow.app.refs.container.refs.gridster.assignImage($(this.dragTarget), img);\n\t\t\tthis.dragTarget = null;\n\t\t}\n\t},\n\n\n\t/**\n  * render\n  */\n\trender: function render() {\n\t\tvar _this3 = this;\n\n\t\tvar items = [];\n\n\t\t// make item elements\n\t\tthis.props.uploadImages.forEach(function (item, key) {\n\t\t\titems.push(React.createElement(\n\t\t\t\t'li',\n\t\t\t\t{ key: key, 'data-key': key, draggable: 'true',\n\t\t\t\t\tonClick: _this3.onSelect,\n\t\t\t\t\tonDragStart: _this3.onDragStart,\n\t\t\t\t\tonDragEnd: _this3.onDragEnd },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ style: item.style, className: item.on ? 'on' : '' },\n\t\t\t\t\t'.img'\n\t\t\t\t)\n\t\t\t));\n\t\t});\n\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'upload-files' },\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'wrap' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'ul',\n\t\t\t\t\t{ ref: 'items' },\n\t\t\t\t\titems\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n\n},{}]},{},[1])\n\n","const React = require('React');\nconst ReactDOM = require('ReactDOM');\n\n// init components\nconst Header = require('./header/Header.jsx');\nconst Container = require('./container/Container.jsx');\nconst Sidebar = require('./sidebar/Sidebar.jsx');\n\n\n// App\nconst App = React.createClass({\n\n\tdisplayName : 'photo-layout-editor',\n\tsaveWidth : 0,\n\t$editor : null,\n\t$sidebar : null,\n\tshow_sidebar : (localStorage.getItem('sidebar') != 'false'),\n\n\tgetInitialState()\n\t{\n\t\treturn {};\n\t},\n\n\tcomponentDidMount()\n\t{\n\t\tthis.$editor = $(ReactDOM.findDOMNode(this.refs.editor));\n\t\tthis.$sidebar = $(ReactDOM.findDOMNode(this.refs.sidebar));\n\n\t\t// scroll event\n\t\t$(window).on('scroll', (e) => {\n\t\t\tthis.refs.container.refs.navTop.scrollEvent();\n\t\t});\n\n\t\t// show sidebar\n\t\tif (this.show_sidebar)\n\t\t{\n\t\t\tthis.$editor.addClass('on-sidebar');\n\t\t}\n\n\t\t// play gridster\n\t\tthis.refs.container.actGridster();\n\t},\n\n\t/**\n\t * Attach images\n\t *\n\t * @param {array} images\n\t */\n\tattachImages(images)\n\t{\n\t\tthis.refs.container.refs.gridster.attachImages(images);\n\t},\n\n\t/**\n\t * Toggle side bar\n\t */\n\ttoggleSidebar()\n\t{\n\t\tvar bool = !this.show_sidebar;\n\t\tlocalStorage.setItem('sidebar', bool);\n\t\tthis.show_sidebar = bool;\n\n\t\tthis.saveWidth = (bool) ? this.saveWidth + this.$sidebar.width() : this.saveWidth - this.$sidebar.width();\n\n\t\tthis.$editor.toggleClass('on-sidebar');\n\t\tthis.$editor.css('min-width', this.saveWidth);\n\t},\n\n\t/**\n\t * Resize container width\n\t *\n\t * @param {int} width\n\t */\n\tresizeWidth(width)\n\t{\n\t\tthis.saveWidth = (this.show_sidebar) ? width : width - this.$sidebar.width();\n\t\tthis.$editor.css('min-width', this.saveWidth);\n\t},\n\n\t/**\n\t * render\n\t */\n\trender()\n\t{\n\t\treturn (\n\t\t\t<div ref=\"editor\" className=\"ple-editor\">\n\t\t\t\t<Header ref=\"header\" />\n\t\t\t\t<Container\n\t\t\t\t\tref=\"container\"\n\t\t\t\t\tresizeWidth={this.resizeWidth}/>\n\t\t\t\t<Sidebar\n\t\t\t\t\tref=\"sidebar\"\n\t\t\t\t\tuploadScript={preference.uploadScript}\n\t\t\t\t\tshow={this.state.show_sidebar}\n\t\t\t\t\ttoggleSidebar={this.toggleSidebar}\n\t\t\t\t\tattachImages={this.attachImages}\n\t\t\t\t\tdefaultUploadFiles={preference.defaultUploadFiles}/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n\n// render App\nwindow.app = ReactDOM.render(<App/>, document.getElementById('app'));","const NavTop = require('./NavTop.jsx');\nconst Gridster = require('./Gridster.jsx');\nconst NavBottom = require('./NavBottom.jsx');\n\n\nmodule.exports = React.createClass({\n\n\tdisplayName : 'Container',\n\toriginalPreference : {},\n\n\tgetInitialState()\n\t{\n\t\treturn {\n\t\t\tpreference : {\n\t\t\t\twidth : 100,\n\t\t\t\theight : 100,\n\t\t\t\tmax_col : 5,\n\t\t\t\tmax_scale : 2,\n\t\t\t\touter_margin : 10,\n\t\t\t\tinner_margin : 10\n\t\t\t},\n\t\t\taction : null,\n\t\t\tdynamicParameter : {}\n\t\t};\n\t},\n\n\tcomponentDidMount()\n\t{\n\t\tthis.originalPreference = this.state.preference;\n\t\tthis.gridster = this.refs.gridster;\n\t},\n\n\t/**\n\t * Update preference\n\t *\n\t * @param {object} params\n\t */\n\tupdatePreference(params)\n\t{\n\t\tthis.setState({ preference : params, action: 'updatePreference' });\n\t\tthis.refs.navTop.closeSetting();\n\t},\n\n\t/**\n\t * Reset preference\n\t */\n\tresetPreference()\n\t{\n\t\tthis.setState({ preference : this.originalPreference, action : null });\n\t},\n\n\t/**\n\t * Play add block\n\t */\n\tactAddBlcok()\n\t{\n\t\tthis.refs.gridster.addBlock();\n\t},\n\n\t/**\n\t * Play shuffle blocks\n\t */\n\tactShuffleBlocks()\n\t{\n\t\tthis.refs.gridster.shuffleBlocks();\n\t},\n\n\t/**\n\t * Play Gridster\n\t */\n\tactGridster()\n\t{\n\t\tthis.setState({ action : 'init' });\n\t},\n\n\t/**\n\t * Generate\n\t */\n\tgenerate()\n\t{\n\t\tlog('generate output');\n\t},\n\n\t/**\n\t * render\n\t */\n\trender()\n\t{\n\t\treturn (\n\t\t\t<div className=\"ple-container\">\n\t\t\t\t<NavTop\n\t\t\t\t\tref=\"navTop\"\n\t\t\t\t\tupdate={this.updatePreference}\n\t\t\t\t\treset={this.resetPreference}\n\t\t\t\t\tactAddBlock={this.actAddBlcok}\n\t\t\t\t\tactShuffleBlocks={this.actShuffleBlocks}\n\t\t\t\t\tpreference={this.state.preference}/>\n\t\t\t\t<Gridster\n\t\t\t\t\tref=\"gridster\"\n\t\t\t\t\tpreference={this.state.preference}\n\t\t\t\t\taction={this.state.action}\n\t\t\t\t\tresizeWidth={this.props.resizeWidth}\n\t\t\t\t\tdynamicParameter={this.state.dynamicParameter}/>\n\t\t\t\t<NavBottom\n\t\t\t\t\tgenerate={this.generate} />\n\t\t\t</div>\n\t\t);\n\t}\n});\n","const util = require('../lib/util.js');\n\nmodule.exports = React.createClass({\n\n\tdisplayName : 'Gridster',\n\n\t$gridster : null,\n\tgridster : null,\n\tsaveBlocks : null,\n\n\tcomponentDidMount()\n\t{\n\t\tthis.$gridster = $(ReactDOM.findDOMNode(this.refs.gridster));\n\t},\n\n\t/**\n\t * Create block\n\t */\n\tcreate()\n\t{\n\t\tvar pref = this.props.preference;\n\t\tvar innnerMargin = pref.inner_margin * 0.5;\n\t\tvar outerMargin = innnerMargin + pref.outer_margin;\n\n\t\t// set styles\n\t\tthis.$gridster.css('padding', outerMargin+'px').append('<ul/>');\n\n\t\t// restore blocks\n\t\tif (this.saveBlocks)\n\t\t{\n\t\t\tthis.saveBlocks.each((k, o) => {\n\t\t\t\tif (parseInt($(o).attr('data-col')) > pref.max_col)\n\t\t\t\t{\n\t\t\t\t\t$(o).attr('data-col', pref.max_col);\n\t\t\t\t}\n\t\t\t\tif (parseInt($(o).attr('data-sizex')) > pref.max_scale)\n\t\t\t\t{\n\t\t\t\t\t$(o).attr('data-sizex', pref.max_scale);\n\t\t\t\t}\n\t\t\t\tif (parseInt($(o).attr('data-sizey')) > pref.max_scale)\n\t\t\t\t{\n\t\t\t\t\t$(o).attr('data-sizey', pref.max_scale);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.$gridster.children('ul').append(this.saveBlocks);\n\t\t}\n\n\t\t// resize wrap width\n\t\tthis.resizeWrapWidth();\n\n\t\t// init gridster\n\t\tthis.gridster = this.$gridster.children('ul').gridster({\n\t\t\twidget_margins: [innnerMargin, innnerMargin],\n\t\t\twidget_base_dimensions: [pref.width, pref.height],\n\t\t\tmax_cols : pref.max_col,\n\t\t\tresize : {\n\t\t\t\tenabled : true\n\t\t\t\t,max_size : [pref.max_scale, pref.max_scale]\n\t\t\t}\n\t\t}).data('gridster');\n\t},\n\n\t/**\n\t * Resize container\n\t */\n\tresizeWrapWidth()\n\t{\n\t\tvar pref = this.props.preference;\n\t\tvar width = (pref.width * pref.max_col) + ((pref.max_col) * pref.inner_margin);\n\t\tthis.$gridster.width(width);\n\n\t\tvar margin_gridster = parseInt(this.$gridster.parent().css('padding-left')) * 2;\n\t\tvar margin_editor = parseInt($('.ple-editor').css('padding')) * 2;\n\t\tvar width_sidebar = $('.ple-sidebar').width();\n\t\tvar bodyWidth = this.$gridster.outerWidth() + margin_gridster + margin_editor + width_sidebar;\n\n\t\tthis.props.resizeWidth(bodyWidth);\n\t},\n\n\t/**\n\t * Clear blocks\n\t */\n\tclear()\n\t{\n\t\tthis.$gridster.find('li').removeAttr('style class');\n\t\tthis.saveBlocks = $(this.$gridster.children('ul').html());\n\t\tthis.gridster.destroy(true);\n\t\tthis.$gridster.children().remove();\n\t\tthis.$gridster.removeClass('ready').removeAttr('style');\n\t},\n\n\t/**\n\t * Init gridster\n\t */\n\tinit()\n\t{\n\t\tthis.create();\n\t\tthis.randomAddBlocks(5, this.props.preference.max_scale, this.props.preference.max_scale);\n\t},\n\n\t/**\n\t * Update preference\n\t */\n\tupdatePreference()\n\t{\n\t\tthis.clear();\n\t\tthis.create();\n\t},\n\n\t/**\n\t * Make block\n\t *\n\t * @param {object} params\n\t */\n\tblock(params)\n\t{\n\t\tif (!params.sizeX || !params.sizeY) return false;\n\n\t\tvar $li = $('<li>' + ((params.text) ? params.text : '') + '</li>');\n\n\t\tthis.gridster.add_widget($li, params.sizeX, params.sizeY, false);\n\t},\n\n\t/**\n\t * Random add blocks\n\t *\n\t * @param {int} count\n\t * @param {int} max_width\n\t * @param {int} max_height\n\t */\n\trandomAddBlocks(count, max_width, max_height)\n\t{\n\t\tfor (var i=0; i<count; i++)\n\t\t{\n\t\t\tthis.block({\n\t\t\t\tsizeX : util.getRandomRange(1, max_width),\n\t\t\t\tsizeY : util.getRandomRange(1, max_height)\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Add block\n\t *\n\t * @param {int} x\n\t * @param {int} y\n\t */\n\taddBlock(x, y)\n\t{\n\t\tx = x || 1;\n\t\ty = y || 1;\n\t\tx = (x > this.props.preference.max_scale) ? this.props.preference.max_scale : x;\n\t\ty = (y > this.props.preference.max_scale) ? this.props.preference.max_scale : y;\n\t\tthis.block({ sizeX : x, sizeY : y });\n\t},\n\n\t/**\n\t * Shuffle blocks\n\t */\n\tshuffleBlocks()\n\t{\n\t\tthis.clear();\n\n\t\tthis.saveBlocks.each((k, o) => {\n\t\t\t$(o).attr({\n\t\t\t\t'data-col' : util.getRandomRange(1, this.props.preference.max_col),\n\t\t\t\t'data-row' : util.getRandomRange(1, 2),\n\t\t\t\t'data-sizex' : util.getRandomRange(1, this.props.preference.max_scale),\n\t\t\t\t'data-sizey' : util.getRandomRange(1, this.props.preference.max_scale)\n\t\t\t});\n\t\t});\n\n\t\tthis.create();\n\t},\n\n\t/**\n\t * Attach images\n\t *\n\t * @param {array} images\n\t */\n\tattachImages(images)\n\t{\n\t\tvar $block = this.$gridster.find('li').not('.attached');\n\n\t\tif (images.length > $block.length)\n\t\t{\n\t\t\tlet total = images.length - $block.length;\n\t\t\tfor (let i=0; i<total; i++)\n\t\t\t{\n\t\t\t\tthis.addBlock();\n\t\t\t}\n\t\t\t$block = this.$gridster.find('li').not('.attached');\n\t\t}\n\n\t\tvar baskets = [];\n\t\t$block.each((k, o) => {\n\t\t\tif (!$(o).children('figure').length && k < images.length)\n\t\t\t{\n\t\t\t\tbaskets.push(o);\n\t\t\t}\n\t\t});\n\n\t\tbaskets.forEach((o, k) => {\n\t\t\tthis.assignImage($(o), images[k]);\n\t\t});\n\t},\n\n\t/**\n\t * Assign image\n\t *\n\t * @param {object} $target\n\t * @param {string} image\n\t */\n\tassignImage($target, image)\n\t{\n\t\tvar $figure = $('<figure/>');\n\t\t$figure.css({\n\t\t\t'background-image' : 'url(' + image + ')',\n\t\t\t'background-position' : '50% 50%',\n\t\t\t'background-size' : 'cover'\n\t\t});\n\t\t$target.addClass('attached').prepend($figure);\n\t},\n\n\t/**\n\t * render\n\t */\n\trender()\n\t{\n\t\t// act action\n\t\tif (typeof this[this.props.action] === 'function')\n\t\t{\n\t\t\tthis[this.props.action]();\n\t\t}\n\n\t\treturn (\n            <div className=\"gridster-wrap\">\n\t\t\t\t<div ref=\"gridster\" className=\"gridster\" id=\"gridster\"></div>\n        \t</div>\n\t\t);\n\t}\n});","module.exports = React.createClass({\n\n\tdisplayName : 'Nav-bottom',\n\n\tactGenerator()\n\t{\n\t\tlog('ACTION GENERATE');\n\t},\n\n\t/**\n\t * render\n\t */\n\trender()\n\t{\n\t\treturn (\n            <nav className=\"nav-bottom\">\n        \t\t<button type=\"button\" title=\"Generate export\" onClick={this.props.generate}>\n        \t\t\t<i className=\"sp-ico ico-check\"/>\n        \t\t\t<span>Generate</span>\n        \t\t</button>\n        \t</nav>\n\t\t);\n\t}\n});\n","module.exports = React.createClass({\n\n\tdisplayName : 'NavTop-Form',\n\tform : null,\n\n\tpropTypes : {\n\t\tupdate : React.PropTypes.func\n\t},\n\n\tgetInitialState()\n\t{\n\t\treturn {};\n\t},\n\n\tcomponentDidMount()\n\t{\n\t\tthis.form = ReactDOM.findDOMNode(this.refs.form);\n\t},\n\n\tupdate(e)\n\t{\n\t\te.preventDefault();\n\t\tthis.props.update({\n\t\t\twidth : parseInt(this.form.width.value),\n\t\t\theight : parseInt(this.form.height.value),\n\t\t\tmax_col : parseInt(this.form.max_col.value),\n\t\t\tmax_scale : parseInt(this.form.max_scale.value),\n\t\t\touter_margin : parseInt(this.form.outer_margin.value),\n\t\t\tinner_margin : parseInt(this.form.inner_margin.value)\n\t\t});\n\t},\n\n\t/**\n\t * render\n\t */\n\trender()\n\t{\n\t\treturn (\n\t\t\t<article className=\"form\" id=\"settings\">\n\t\t\t\t<form method=\"post\" ref=\"form\" onSubmit={this.update}>\n\t\t\t\t\t<fieldset>\n\t\t\t\t\t\t<legend className=\"blind\">Settings form</legend>\n\t\t\t\t\t\t<h1>Settings</h1>\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt><label htmlhtmlFor=\"frm_name\">Min Width</label></dt>\n\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\" name=\"width\" id=\"frm_name\"\n\t\t\t\t\t\t\t\t\tmin=\"1\" max=\"999\" maxLength=\"3\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.preference.width}\n\t\t\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt><label htmlFor=\"frm_height\">Min Height</label></dt>\n\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\" name=\"height\" id=\"frm_height\"\n\t\t\t\t\t\t\t\t\tmin=\"1\" max=\"999\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.preference.height}/>\n\t\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt><label htmlFor=\"frm_max_col\">Max Column</label></dt>\n\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\" name=\"max_col\" id=\"frm_max_col\"\n\t\t\t\t\t\t\t\t\tmin=\"1\" max=\"99\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.preference.max_col}/>\n\t\t\t\t\t\t\t\t<span>ea</span>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt><label htmlFor=\"frm_max_scale\">Max Scale</label></dt>\n\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\" name=\"max_scale\" id=\"frm_max_scale\"\n\t\t\t\t\t\t\t\t\tmin=\"1\" max=\"99\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.preference.max_scale}/>\n\t\t\t\t\t\t\t\t<span>x</span>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt><label htmlFor=\"frm_outer_margin\">Outer Margin</label></dt>\n\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\" name=\"outer_margin\" id=\"frm_outer_margin\"\n\t\t\t\t\t\t\t\t\tmin=\"1\" max=\"500\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.preference.outer_margin}/>\n\t\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt><label htmlFor=\"frm_inner_margin\">Inner Margin</label></dt>\n\t\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"number\" name=\"inner_margin\" id=\"frm_inner_margin\"\n\t\t\t\t\t\t\t\t\tmin=\"1\" max=\"500\"\n\t\t\t\t\t\t\t\t\tdefaultValue={this.props.preference.inner_margin}/>\n\t\t\t\t\t\t\t\t<span>px</span>\n\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t</fieldset>\n\t\t\t\t\t<nav>\n\t\t\t\t\t\t<span><button type=\"reset\" onClick={this.props.reset}>Reset</button></span>\n\t\t\t\t\t\t<span><button type=\"submit\" className=\"submit\">Apply</button></span>\n\t\t\t\t\t</nav>\n\t\t\t\t</form>\n\t\t\t</article>\n\t\t);\n\t}\n});","// init components\nconst NavTopForm = require('./NavTop.Form.jsx');\n\n\nmodule.exports = React.createClass({\n\n\tdisplayName : 'NavTop',\n\n\tgetInitialState()\n\t{\n\t\treturn {\n\t\t\tshow_form : false,\n\t\t\tfix : false\n\t\t};\n\t},\n\n\n\t/**\n\t * CLICK EVENTS\n\t */\n\n\t/**\n\t * Toggle setting form\n\t */\n\ttoggleSetting()\n\t{\n\t\tvar self = this;\n\t\tif (!this.state.show_form == true)\n\t\t{\n\t\t\t$(document).on('click', function(e){\n\t\t\t\tif (!$(e.target).closest('#settings').length)\n\t\t\t\t{\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$(this).off('click');\n\t\t\t\t\tself.setState({ show_form : false });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.setState({ show_form : !this.state.show_form });\n\t},\n\n\t/**\n\t * Close setting layer\n\t */\n\tcloseSetting()\n\t{\n\t\t$(document).off('click');\n\t\tthis.setState({ show_form : false });\n\t},\n\n\t/**\n\t * Play scroll event\n\t */\n\tscrollEvent()\n\t{\n\t\tvar windowTop = $(window).scrollTop();\n\t\tvar $el = $(ReactDOM.findDOMNode(this));\n\t\tif ($el.offset().top < windowTop)\n\t\t{\n\t\t\tthis.setState({ fix : true });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState({ fix : false });\n\t\t}\n\t},\n\n\t/**\n\t * RENDER\n\t */\n\trender()\n\t{\n\t\treturn (\n\t\t\t<div className=\"nav-top-wrap\">\n\t\t\t\t<nav className={'nav-top' + ((this.state.fix) ? ' fix' : '')}>\n\t\t\t\t\t<div className={'block' + ((this.state.show_form) ? ' is-active' : '')}>\n\t\t\t\t\t\t<button type=\"button\" title=\"Edit preference\" onClick={this.toggleSetting}>\n\t\t\t\t\t\t\t<i className=\"sp-ico ico-setting abs\">Setting</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<NavTopForm\n\t\t\t\t\t\t\tupdate={this.props.update}\n\t\t\t\t\t\t\treset={this.props.reset}\n\t\t\t\t\t\t\tpreference={this.props.preference}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"block\">\n\t\t\t\t\t\t<button type=\"button\" title=\"Shuffle block\" onClick={this.props.actShuffleBlocks}>\n\t\t\t\t\t\t\t<i className=\"sp-ico ico-arrow-random abs\">Random block</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"block\">\n\t\t\t\t\t\t<button type=\"button\" title=\"Add block\" onClick={this.props.actAddBlock}>\n\t\t\t\t\t\t\t<i className=\"sp-ico ico-plus abs\">Add block</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t</div>\n\t\t);\n\t}\n});\n","module.exports = React.createClass({\n\n\tdisplayName : 'Header',\n\n\tcomponentDidMount : function()\n\t{\n\n\t},\n\n\trender : function()\n\t{\n\t\treturn (\n\t\t\t<header className=\"ple-header\">\n\t\t\t\t<h1>Photo Layout Editor</h1>\n\t\t\t\t<p>사진 레이아웃 에디터입니다. 처음 시작하면 먼저 문서설정을 해주세요!</p>\n\t\t\t</header>\n\t\t);\n\t}\n});\n","module.exports = function Uploader()\n{\n\t/**\n\t * Local upload\n\t *\n\t * @param {Array} files\n\t * @param {Function} complete\n\t * @return {Array}\n\t */\n\tthis.local = function(files, complete)\n\t{\n\t\tvar reader = new FileReader();\n\t\tvar i = 0;\n\t\tvar result = [];\n\t\treader.onload = function(e)\n\t\t{\n\t\t\tresult.push(e.target.result);\n\n\t\t\t// check last queue\n\t\t\tif (i == (files.length - 1))\n\t\t\t{\n\t\t\t\tcomplete(result);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// trigger next queue\n\t\t\t\ti++;\n\t\t\t\treader.readAsDataURL(files[i]);\n\t\t\t}\n\t\t};\n\t\treader.readAsDataURL(files[i]);\n\t};\n\n\t/**\n\t * External upload\n\t *\n\t * @param {String} script\n\t * @param {String} dir\n\t * @param {String} url\n\t * @param {Array} files\n\t * @param {Function} complete\n\t * @return {Array}\n\t */\n\tthis.external = function(script, dir, url, files, complete)\n\t{\n\t\tvar xhr = new XMLHttpRequest();\n\n\t\tif (typeof FormData === 'function' || typeof FormData === 'object')\n\t\t{\n\t\t\tvar formData = new FormData();\n\n\t\t\tfor (var i=0; i<files.length; i++)\n\t\t\t{\n\t\t\t\tformData.append('files[]', files[i]);\n\t\t\t}\n\t\t\tformData.append('dir', dir);\n\t\t\tformData.append('url', url);\n\n\t\t\txhr.open('post', script, true);\n\t\t\txhr.addEventListener('load', function(e){\n\t\t\t\tvar response = null;\n\t\t\t\tif (e.target.readyState == 4)\n\t\t\t\t{\n\t\t\t\t\tswitch (e.target.status)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar result = JSON.parse(decodeURIComponent(e.target.responseText.replace(/\\+/g, '%20')));\n\t\t\t\t\t\t\t\tcomplete(result);\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tcomplete({\n\t\t\t\t\t\t\t\t\t'state' : 'error',\n\t\t\t\t\t\t\t\t\t'message' : e.target.responseText\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 404:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate : 'error',\n\t\t\t\t\t\t\t\tmessage : '404 - File not found'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 403:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate : 'error',\n\t\t\t\t\t\t\t\tmessage : '403 - Forbidden file type'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate : 'error',\n\t\t\t\t\t\t\t\tmessage : 'Unknown Error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresponse = {\n\t\t\t\t\t\tstate : 'error',\n\t\t\t\t\t\tmessage : 'Unknown Error'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\txhr.send(formData);\n\t\t}\n\n\t\treturn null;\n\t}\n};","module.exports = {\n\n\t/**\n\t * Shuffle items\n\t *\n\t * @param o\n\t * @returns {*}\n\t */\n\t// TODO : 인수 타입 확인해보고 주석에 있는 타입 변경하기\n\tshuffle : function(o)\n\t{\n\t\tfor (var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);\n\t\treturn o;\n\t},\n\n\t/**\n\t * Random item in range\n\t * @param {int} min\n\t * @param {int} max\n\t * @returns {number}\n\t */\n\tgetRandomRange : function(min, max)\n\t{\n\t\tmax += 1;\n\t\treturn Math.floor(Math.random() * (max - min) + min);\n\t}\n};","module.exports = React.createClass({\n\n\tdisplayName : 'Navigation',\n\n\tgetInitialState()\n\t{\n\t\treturn {\n\t\t\tinputFile : <input type=\"file\" onChange={this.upload} multiple />\n\t\t};\n\t},\n\n\t/**\n\t * Attach images\n\t */\n\tattachImages()\n\t{\n\t\tlog('attach image to grid block');\n\t},\n\n\t/**\n\t * Upload images\n\t *\n\t * @param {Event} e\n\t */\n\tupload(e)\n\t{\n\t\tthis.props.upload(e.target.files);\n\n\t\t// reset input[type=file]\n\t\tvar $input = $(this.refs.inputFile);\n\t\t$input.replaceWith($input.val('').clone(true));\n\t},\n\n\t/**\n\t * render\n\t */\n\trender()\n\t{\n\t\treturn (\n            <nav className=\"nav-top\">\n        \t\t<div className=\"wrap\">\n        \t\t\t<button type=\"button\" title=\"attach images\" onClick={this.props.attach}>\n\t\t\t\t\t\t<i className=\"sp-ico ico-arrow-left abs\">Moving the image to grid block</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" title=\"toggle select\" onClick={this.props.toggleSelect}>\n\t\t\t\t\t\t<i className=\"sp-ico ico-select abs\">Toggle all select</i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span title=\"upload images\">\n\t\t\t\t\t\t<input type=\"file\" ref=\"inputFile\" onChange={this.upload} multiple />\n\t\t\t\t\t\t<i className=\"sp-ico ico-upload abs\">upload images</i>\n\t\t\t\t\t</span>\n\t\t\t\t\t<button type=\"button\" title=\"remove images\" onClick={this.props.remove}>\n\t\t\t\t\t\t<i className=\"sp-ico ico-trash abs\">remove images</i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t);\n\t}\n});\n","const Uploader = require('../lib/Uploader.js');\nconst Nav = require('./Nav.jsx');\nconst UploadFiles = require('./UploadFiles.jsx');\n\n\nmodule.exports = React.createClass({\n\n\tdisplayName : 'Sidebar',\n\n\tpropTypes : {\n\t\tuploadScript : React.PropTypes.string,\n\t\tdefaultUploadFiles : React.PropTypes.array\n\t},\n\n\tuploader : new Uploader(),\n\n\tgetDefaultProps()\n\t{\n\t\treturn {\n\t\t\tuploadScript : null\n\t\t};\n\t},\n\n\tgetInitialState()\n\t{\n\t\treturn {\n\t\t\tuploadImages : this.importImages(this.props.defaultUploadFiles),\n\t\t\tis_loading : false\n\t\t};\n\t},\n\n\t/**\n\t * Import images\n\t *\n\t * @param {array} files\n\t * @return {array}\n\t * */\n\timportImages(files)\n\t{\n\t\tfiles = files || [];\n\t\treturn files.map((o) => {\n\t\t\treturn {\n\t\t\t\ton : false,\n\t\t\t\timage : o,\n\t\t\t\tstyle : { backgroundImage : 'url(' + o + ')' }\n\t\t\t};\n\t\t});\n\t},\n\n\t/**\n\t * upload images\n\t *\n\t * @Param {Files} files\n\t */\n\tupload(files)\n\t{\n\t\tvar uploadFiles = [];\n\n\t\tfor (var i=0; i<files.length; i++)\n\t\t{\n\t\t\tuploadFiles.push(files[i]);\n\t\t}\n\n\t\t// on loading\n\t\tthis.setState({ is_loading : true });\n\n\t\t// action upload\n\t\tif (this.props.uploadScript)\n\t\t{\n\t\t\t// is external script upload\n\t\t\tthis.uploader.external(\n\t\t\t\tthis.props.uploadScript,\n\t\t\t\tthis.props.uploadDir,\n\t\t\t\tthis.props.uploadUrl,\n\t\t\t\tuploadFiles,\n\t\t\t\t(response) => {\n\t\t\t\t\tthis.setState({ is_loading : false });\n\n\t\t\t\t\tif (response.state == 'success')\n\t\t\t\t\t{\n\t\t\t\t\t\tvar data = response.images;\n\n\t\t\t\t\t\tdata.forEach((o) => {\n\t\t\t\t\t\t\tthis.state.uploadImages.push({\n\t\t\t\t\t\t\t\ton : false,\n\t\t\t\t\t\t\t\timage : o.loc,\n\t\t\t\t\t\t\t\tstyle : { backgroundImage : 'url(' + o.loc + ')' }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tuploadImages : this.state.uploadImages\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlog(response.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// is local upload\n\t\t\tthis.setState({ is_loading : true });\n\t\t\tthis.uploader.local(uploadFiles, (data) => {\n\t\t\t\tvar result = this.state.uploadImages;\n\t\t\t\tthis.setState({ is_loading : false });\n\n\t\t\t\tdata.forEach((o) => {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ton : false,\n\t\t\t\t\t\timage : o,\n\t\t\t\t\t\tstyle : { backgroundImage : 'url(' + o + ')' }\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis.setState({ uploadImages : result });\n\t\t\t});\n\t\t}\n\t},\n\n\tremove()\n\t{\n\t\tvar selectedKeys = [];\n\n\t\tif (!this.state.uploadImages.length)\n\t\t{\n\t\t\talert('이미지가 없습니다.');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state.uploadImages.forEach((o, k) => {\n\t\t\tif (o.on)\n\t\t\t{\n\t\t\t\tselectedKeys.push(k);\n\t\t\t}\n\t\t});\n\n\t\tif (selectedKeys.length)\n\t\t{\n\t\t\tselectedKeys.forEach((o) => {\n\t\t\t\tdelete this.state.uploadImages[o];\n\t\t\t});\n\t\t\tthis.setState({ uploadImages : this.state.uploadImages });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (confirm('선택된 사진이 없습니다. 전부 삭제할까요?'))\n\t\t\t{\n\t\t\t\tthis.setState({ uploadImages : [] });\n\t\t\t}\n\t\t}\n\t},\n\n\tattach()\n\t{\n\t\tvar items = [];\n\t\tthis.state.uploadImages.forEach((o) => {\n\t\t\tif (o.on)\n\t\t\t{\n\t\t\t\titems.push(o.image);\n\t\t\t}\n\t\t});\n\t\tif (items.length)\n\t\t{\n\t\t\tthis.props.attachImages(items);\n\t\t}\n\t\telse\n\t\t{\n\t\t\talert('please select image');\n\t\t\treturn false;\n\t\t}\n\t},\n\n\ttoggleSelect()\n\t{\n\t\tvar items = this.state.uploadImages;\n\t\tvar $items = $(ReactDOM.findDOMNode(this.refs.files));\n\t\tvar sw = ($items.find('span.on').length > 0);\n\t\titems.forEach((o) => {\n\t\t\to.on = (!sw);\n\t\t});\n\t\tthis.setState({ uploadImages : items });\n\t},\n\n\tupdate(data)\n\t{\n\t\tthis.setState({ uploadImages : data });\n\t},\n\n\n\t/**\n\t * render\n\t */\n\trender()\n\t{\n\t\treturn (\n\t\t\t<aside className={ 'ple-sidebar' + ((this.state.is_loading) ? ' loading' : '') }>\n\t\t\t\t<button type=\"button\" onClick={this.props.toggleSidebar} className=\"toggle\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<i className={'sp-ico abs' + ((this.props.show) ? ' ico-arrow-right2' : ' ico-arrow-left2')}>Toggle sidebar</i>\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n                <Nav ref=\"nav\"\n\t\t\t\t\t upload={this.upload}\n\t\t\t\t\t remove={this.remove}\n\t\t\t\t\t attach={this.attach}\n\t\t\t\t\t toggleSelect={this.toggleSelect} />\n                <UploadFiles ref=\"files\"\n\t\t\t\t\t\t\t uploadImages={this.state.uploadImages}\n\t\t\t\t\t\t\t update={this.update} />\n\t\t\t</aside>\n\t\t);\n\t}\n});\n","module.exports = React.createClass({\n\n\tdisplayName: 'UploadFiles',\n\n\tpropTypes: {\n\t\tuploadImages: React.PropTypes.array,\n\t\tupdate: React.PropTypes.func\n\t},\n\tis_multiSelect : false,\n\n\t$gridster : null,\n\tdragTarget : null,\n\n\tgetInitialState()\n\t{\n\t\treturn {}\n\t},\n\n\tcomponentDidMount()\n\t{\n\t\tconst CTRL = 17;\n\t\tconst CMD = 91;\n\n\t\tvar onKeydown = (e) => {\n\t\t\tif (e.keyCode == CTRL || e.keyCode == CMD)\n\t\t\t{\n\t\t\t\tthis.is_multiSelect = true;\n\t\t\t\t$(window).off('keydown').on('keyup', onKeyUp);\n\t\t\t}\n\t\t};\n\n\t\tvar onKeyUp = () => {\n\t\t\tthis.is_multiSelect = false;\n\t\t\t$(window).off('keyup').on('keydown', onKeydown);\n\t\t};\n\n\t\t$(window).on('keydown', onKeydown);\n\n\t\tthis.$gridster = $('.gridster');\n\t},\n\n\t/**\n\t * on select item\n\t *\n\t * @param {event} e\n\t */\n\tonSelect(e)\n\t{\n\t\tlet currentKey = parseInt(e.currentTarget.getAttribute('data-key'));\n\t\tlet uploadImages = this.props.uploadImages;\n\n\t\tif (this.is_multiSelect)\n\t\t{\n\t\t\tuploadImages[currentKey].on = !uploadImages[currentKey].on;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tuploadImages.forEach((data, key) => {\n\t\t\t\tdata.on = (key == currentKey) ? !data.on : false;\n\t\t\t});\n\t\t}\n\n\t\tthis.props.update(uploadImages);\n\t},\n\n\t/**\n\t * on drag start\n\t *\n\t * @param {event} e\n\t */\n\tonDragStart(e)\n\t{\n\t\tthis.$gridster.find('li').on('dragover', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).addClass('hover');\n\t\t}).on('dragleave', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.currentTarget).removeClass('hover');\n\t\t}).on('drop', (e) => {\n\t\t\te.preventDefault();\n\t\t\tthis.dragTarget = e.currentTarget;\n\t\t});\n\t},\n\n\t/**\n\t * on drag end\n\t *\n\t * @param {event} e\n\t */\n\tonDragEnd(e)\n\t{\n\t\tthis.$gridster.find('li')\n\t\t\t.removeClass('hover')\n\t\t\t.off('dragover dragleave drop');\n\n\t\tif (this.dragTarget)\n\t\t{\n\t\t\tlet img = this.props.uploadImages[parseInt(e.currentTarget.getAttribute('data-key'))].image;\n\t\t\twindow.app.refs.container.refs.gridster.assignImage($(this.dragTarget), img);\n\t\t\tthis.dragTarget = null;\n\t\t}\n\t},\n\n\t/**\n\t * render\n\t */\n\trender()\n\t{\n\t\tvar items = [];\n\n\t\t// make item elements\n\t\tthis.props.uploadImages.forEach((item, key) => {\n\t\t\titems.push(\n\t\t\t\t<li key={key} data-key={key} draggable=\"true\"\n\t\t\t\t\tonClick={this.onSelect}\n\t\t\t\t\tonDragStart={this.onDragStart}\n\t\t\t\t\tonDragEnd={this.onDragEnd}>\n\t\t\t\t\t<span style={item.style} className={(item.on) ? 'on' : ''}>.img</span>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n            <div className=\"upload-files\">\n\t\t\t\t<div className=\"wrap\">\n        \t\t\t<ul ref=\"items\">{items}</ul>\n\t\t\t\t</div>\n        \t</div>\n\t\t);\n\t}\n});\n"],"sourceRoot":"/source/"}