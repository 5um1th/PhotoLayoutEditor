{"version":3,"sources":["App.js","Container/Container.Gridster.js","Container/Container.Nav-top.js","Container/Container.NavBottom.js","Container/Container.NavTop.Form.js","Container/Container.NavTop.js","Container/Container.js","Header/Header.js","lib/Uploader.js","lib/common.js","Sidebar/Sidebar.Nav.js","Sidebar/Sidebar.Upload-files.js","Sidebar/Sidebar.UploadFiles.js","Sidebar/Sidebar.js","Sidebar/Sidebar_UploadFiles_Item.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7IA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PhotoLayoutEditor.min.js","sourcesContent":["var App = React.createClass({\n\n\tdisplayName: 'photo-layout-editor',\n\tsaveWidth: 0,\n\t$editor: null,\n\t$sidebar: null,\n\tshow_sidebar: localStorage.getItem('sidebar') != 'false',\n\n\tgetInitialState: function () {\n\t\treturn {};\n\t},\n\n\tcomponentDidMount: function () {\n\t\tthis.$editor = $(ReactDOM.findDOMNode(this.refs.editor));\n\t\tthis.$sidebar = $(ReactDOM.findDOMNode(this.refs.sidebar));\n\n\t\tvar self = this;\n\n\t\t$(window).on('scroll', function (e) {\n\t\t\tself.refs.container.refs.navTop.scrollEvent();\n\t\t});\n\n\t\tif (this.show_sidebar) {\n\t\t\tthis.$editor.addClass('on-sidebar');\n\t\t}\n\n\t\tthis.refs.container.actGridster();\n\t},\n\n\tattachIames: function (images) {\n\t\tthis.refs.container.updateAttachImages(images);\n\t},\n\n\ttoggleSidebar: function () {\n\t\tvar bool = !this.show_sidebar;\n\t\tlocalStorage.setItem('sidebar', bool);\n\t\tthis.show_sidebar = bool;\n\n\t\tthis.saveWidth = bool ? this.saveWidth + this.$sidebar.width() : this.saveWidth - this.$sidebar.width();\n\n\t\tthis.$editor.toggleClass('on-sidebar');\n\t\tthis.$editor.css('min-width', this.saveWidth);\n\t},\n\n\tresizeWidth: function (width) {\n\t\tthis.saveWidth = this.show_sidebar ? width : width - this.$sidebar.width();\n\t\tthis.$editor.css('min-width', this.saveWidth);\n\t},\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ ref: 'editor', className: 'ple-editor' },\n\t\t\tReact.createElement(Header, null),\n\t\t\tReact.createElement(Container, {\n\t\t\t\tref: 'container',\n\t\t\t\tresizeWidth: this.resizeWidth }),\n\t\t\tReact.createElement(Sidebar, {\n\t\t\t\tref: 'sidebar',\n\t\t\t\tuploadScript: this.props.uploadScript,\n\t\t\t\tshow: this.state.show_sidebar,\n\t\t\t\ttoggleSidebar: this.toggleSidebar,\n\t\t\t\tattachImages: this.attachIames })\n\t\t);\n\t}\n});","var Container_Gridster = React.createClass({\n\n\tdisplayName: 'Gridster',\n\n\t$gridster: null,\n\tgridster: null,\n\tsaveBlocks: null,\n\n\tcomponentDidMount: function () {\n\t\tthis.$gridster = $(ReactDOM.findDOMNode(this.refs.gridster));\n\t},\n\n\tcreate: function () {\n\t\tvar preference = this.props.preference;\n\t\tvar innnerMargin = preference.inner_margin * 0.5;\n\t\tvar outerMargin = innnerMargin + preference.outer_margin;\n\n\t\t// set styles\n\t\tthis.$gridster.css('padding', outerMargin + 'px').append('<ul/>');\n\n\t\t// restore blocks\n\t\tif (this.saveBlocks) {\n\t\t\tthis.saveBlocks.each(function (k, o) {\n\t\t\t\tif (parseInt($(o).attr('data-col')) > preference.max_col) {\n\t\t\t\t\t$(o).attr('data-col', preference.max_col);\n\t\t\t\t}\n\t\t\t\tif (parseInt($(o).attr('data-sizex')) > preference.max_scale) {\n\t\t\t\t\t$(o).attr('data-sizex', preference.max_scale);\n\t\t\t\t}\n\t\t\t\tif (parseInt($(o).attr('data-sizey')) > preference.max_scale) {\n\t\t\t\t\t$(o).attr('data-sizey', preference.max_scale);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.$gridster.children('ul').append(this.saveBlocks);\n\t\t}\n\n\t\t// resize wrap width\n\t\tthis.resizeWrapWidth();\n\n\t\t// init gridster\n\t\tthis.gridster = this.$gridster.children('ul').gridster({\n\t\t\twidget_margins: [innnerMargin, innnerMargin],\n\t\t\twidget_base_dimensions: [preference.width, preference.height],\n\t\t\tmax_cols: preference.max_col,\n\t\t\tresize: {\n\t\t\t\tenabled: true,\n\t\t\t\tmax_size: [preference.max_scale, preference.max_scale]\n\t\t\t}\n\t\t}).data('gridster');\n\t},\n\n\tresizeWrapWidth: function () {\n\t\tvar preference = this.props.preference;\n\t\tvar width = preference.width * preference.max_col + preference.max_col * preference.inner_margin;\n\t\tthis.$gridster.width(width);\n\n\t\tvar margin_gridster = parseInt(this.$gridster.parent().css('padding-left')) * 2;\n\t\tvar margin_editor = parseInt($('.ple-editor').css('padding')) * 2;\n\t\tvar width_sidebar = $('.ple-sidebar').width();\n\t\tvar bodyWidth = this.$gridster.outerWidth() + margin_gridster + margin_editor + width_sidebar;\n\n\t\tthis.props.resizeWidth(bodyWidth);\n\t\t//$('main').css('min-width', bodyWidth + 'px');\n\t},\n\n\tclear: function () {\n\t\tthis.$gridster.find('li').removeAttr('style class');\n\t\tthis.saveBlocks = $(this.$gridster.children('ul').html());\n\t\tthis.gridster.destroy(true);\n\t\tthis.$gridster.children().remove();\n\t\tthis.$gridster.removeClass('ready').removeAttr('style');\n\t},\n\n\tinit: function () {\n\t\tthis.create();\n\t\tthis.randomAddBlocks(5, this.props.preference.max_scale, this.props.preference.max_scale);\n\t},\n\n\tupdatePreference: function (params) {\n\t\tthis.clear();\n\t\tthis.create();\n\t},\n\n\tblock: function (params) {\n\t\tif (!params.sizeX || !params.sizeY) return false;\n\n\t\tvar $li = $('<li>' + (params.text ? params.text : '') + '</li>');\n\t\t//$li.on('click', function(){ log('hello') });\n\n\t\tthis.gridster.add_widget($li, params.sizeX, params.sizeY, false);\n\t},\n\n\trandomAddBlocks: function (count, max_width, max_height) {\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.block({\n\t\t\t\tsizeX: getRandomRange(1, max_width),\n\t\t\t\tsizeY: getRandomRange(1, max_height)\n\t\t\t});\n\t\t}\n\t},\n\n\taddBlock: function (x, y) {\n\t\tx = x || 1;\n\t\ty = y || 1;\n\t\tx = x > this.props.preference.max_scale ? this.props.preference.max_scale : x;\n\t\ty = y > this.props.preference.max_scale ? this.props.preference.max_scale : y;\n\t\tthis.block({ sizeX: x, sizeY: y });\n\t},\n\n\tshuffleBlocks: function () {\n\t\tvar self = this;\n\n\t\tthis.clear();\n\n\t\tthis.saveBlocks.each(function (k, o) {\n\t\t\t$(o).attr({\n\t\t\t\t'data-col': getRandomRange(1, self.props.preference.max_col),\n\t\t\t\t'data-row': getRandomRange(1, 2),\n\t\t\t\t'data-sizex': getRandomRange(1, self.props.preference.max_scale),\n\t\t\t\t'data-sizey': getRandomRange(1, self.props.preference.max_scale)\n\t\t\t});\n\t\t});\n\n\t\tthis.create();\n\t},\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\t// act action\n\t\tif (typeof this[this.props.action] === 'function') {\n\t\t\tthis[this.props.action]();\n\t\t}\n\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'gridster-wrap' },\n\t\t\tReact.createElement('div', { ref: 'gridster', className: 'gridster' })\n\t\t);\n\t}\n});","","var Container_NavBottom = React.createClass({\n\n\tdisplayName: 'Nav-bottom',\n\n\tactGenerator: function () {\n\t\tlog('ACTION GENERATE');\n\t},\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t'nav',\n\t\t\t{ className: 'nav-bottom' },\n\t\t\tReact.createElement(\n\t\t\t\t'button',\n\t\t\t\t{ type: 'button', title: 'Generate export', onClick: this.props.generate },\n\t\t\t\tReact.createElement('i', { className: 'sp-ico ico-check' }),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Generate'\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});","var Container_NavTop_Form = React.createClass({\n\n\tdisplayName: 'Form',\n\tform: null,\n\n\tpropTypes: {\n\t\tupdate: React.PropTypes.func\n\t},\n\n\tgetInitialState: function () {\n\t\treturn {};\n\t},\n\n\tcomponentDidMount: function () {\n\t\tthis.form = ReactDOM.findDOMNode(this.refs.form);\n\t},\n\n\tupdate: function (e) {\n\t\te.preventDefault();\n\t\tthis.props.update({\n\t\t\twidth: parseInt(this.form.width.value),\n\t\t\theight: parseInt(this.form.height.value),\n\t\t\tmax_col: parseInt(this.form.max_col.value),\n\t\t\tmax_scale: parseInt(this.form.max_scale.value),\n\t\t\touter_margin: parseInt(this.form.outer_margin.value),\n\t\t\tinner_margin: parseInt(this.form.inner_margin.value)\n\t\t});\n\t},\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t\"article\",\n\t\t\t{ className: \"form\", id: \"settings\" },\n\t\t\tReact.createElement(\n\t\t\t\t\"form\",\n\t\t\t\t{ method: \"post\", ref: \"form\", onSubmit: this.update },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t\"fieldset\",\n\t\t\t\t\tnull,\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"legend\",\n\t\t\t\t\t\t{ className: \"blind\" },\n\t\t\t\t\t\t\"Settings form\"\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"h1\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\"Settings\"\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlhtmlFor: \"frm_name\" },\n\t\t\t\t\t\t\t\t\"Min Width\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"width\", id: \"frm_name\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"999\", maxLength: \"3\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.width,\n\t\t\t\t\t\t\t\trequired: true }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"px\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_height\" },\n\t\t\t\t\t\t\t\t\"Min Height\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"height\", id: \"frm_height\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"999\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.height }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"px\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_max_col\" },\n\t\t\t\t\t\t\t\t\"Max Column\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"max_col\", id: \"frm_max_col\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"99\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.max_col }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"ea\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_max_scale\" },\n\t\t\t\t\t\t\t\t\"Max Scale\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"max_scale\", id: \"frm_max_scale\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"99\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.max_scale }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"x\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_outer_margin\" },\n\t\t\t\t\t\t\t\t\"Outer Margin\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"outer_margin\", id: \"frm_outer_margin\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"500\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.outer_margin }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"px\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"dl\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dt\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"label\",\n\t\t\t\t\t\t\t\t{ htmlFor: \"frm_inner_margin\" },\n\t\t\t\t\t\t\t\t\"Inner Margin\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"dd\",\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\"input\", {\n\t\t\t\t\t\t\t\ttype: \"number\", name: \"inner_margin\", id: \"frm_inner_margin\",\n\t\t\t\t\t\t\t\tmin: \"1\", max: \"500\",\n\t\t\t\t\t\t\t\tdefaultValue: this.props.preference.inner_margin }),\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\"px\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t\"nav\",\n\t\t\t\t\tnull,\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"button\",\n\t\t\t\t\t\t\t{ type: \"reset\", onClick: this.props.reset },\n\t\t\t\t\t\t\t\"Reset\"\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\"span\",\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\"button\",\n\t\t\t\t\t\t\t{ type: \"submit\", className: \"submit\" },\n\t\t\t\t\t\t\t\"Apply\"\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});","var Container_NavTop = React.createClass({\n\n\tdisplayName: 'Nav-top',\n\n\tgetInitialState: function () {\n\t\treturn {\n\t\t\tshow_form: false,\n\t\t\tfix: false\n\t\t};\n\t},\n\n\t/**\n  * CLICK EVENTS\n  */\n\n\t/**\n  * Toggle setting form\n  */\n\ttoggleSetting: function (e) {\n\t\tvar self = this;\n\t\tif (!this.state.show_form == true) {\n\t\t\t$(document).on('click', function (e) {\n\t\t\t\tif (!$(e.target).closest('#settings').length) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$(this).off('click');\n\t\t\t\t\tself.setState({ show_form: false });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.setState({ show_form: !this.state.show_form });\n\t},\n\n\tcloseSetting: function () {\n\t\t$(document).off('click');\n\t\tthis.setState({ show_form: false });\n\t},\n\n\t/**\n  * Action shuffle blocks\n  */\n\tactShuffleBlocks: function () {\n\t\tlog('action shuffle blocks');\n\t},\n\n\t/**\n  * Action add blocks\n  */\n\tactAddBlocks: function () {\n\t\tlog('action add blocks');\n\t},\n\n\tscrollEvent: function () {\n\t\tvar windowTop = $(window).scrollTop();\n\t\tvar $el = $(ReactDOM.findDOMNode(this));\n\t\tif ($el.offset().top < windowTop) {\n\t\t\tthis.setState({ fix: true });\n\t\t} else {\n\t\t\tthis.setState({ fix: false });\n\t\t}\n\t},\n\n\t/**\n  * RENDER\n  */\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'nav-top-wrap' },\n\t\t\tReact.createElement(\n\t\t\t\t'nav',\n\t\t\t\t{ className: 'nav-top' + (this.state.fix ? ' fix' : '') },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'block' + (this.state.show_form ? ' is-active' : '') },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'Edit preference', onClick: this.toggleSetting },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-setting abs' },\n\t\t\t\t\t\t\t'Setting'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(Container_NavTop_Form, {\n\t\t\t\t\t\tupdate: this.props.update,\n\t\t\t\t\t\treset: this.props.reset,\n\t\t\t\t\t\tpreference: this.props.preference })\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'block' },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'Shuffle block', onClick: this.props.actShuffleBlocks },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-arrow-random abs' },\n\t\t\t\t\t\t\t'Random block'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'block' },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ type: 'button', title: 'Add block', onClick: this.props.actAddBlock },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t{ className: 'sp-ico ico-plus abs' },\n\t\t\t\t\t\t\t'Add block'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});","var Container = React.createClass({\n\n\tdisplayName: 'Container',\n\toriginalPreference: {},\n\n\tgetInitialState: function () {\n\t\treturn {\n\t\t\tpreference: {\n\t\t\t\twidth: 100,\n\t\t\t\theight: 100,\n\t\t\t\tmax_col: 5,\n\t\t\t\tmax_scale: 2,\n\t\t\t\touter_margin: 10,\n\t\t\t\tinner_margin: 10\n\t\t\t},\n\t\t\taction: null,\n\t\t\tdynamicParameter: {}\n\t\t};\n\t},\n\n\tcomponentDidMount: function () {\n\t\tthis.originalPreference = this.state.preference;\n\t\tthis.gridster = this.refs.gridster;\n\t},\n\n\tupdatePreference: function (params) {\n\t\tthis.setState({ preference: params, action: 'updatePreference' });\n\t\tthis.refs.navTop.closeSetting();\n\t},\n\n\tresetPreference: function () {\n\t\tthis.setState({ preference: this.originalPreference, action: null });\n\t},\n\n\tupdateAttachImages: function (items) {\n\t\tlog('act import');\n\t\tlog(items);\n\t},\n\n\tactAddBlcok: function () {\n\t\tthis.refs.gridster.addBlock();\n\t},\n\n\tactShuffleBlocks: function () {\n\t\tthis.refs.gridster.shuffleBlocks();\n\t},\n\n\tactGridster: function () {\n\t\tthis.setState({ action: 'init' });\n\t},\n\n\t/**\n  * Generate\n  */\n\tgenerate: function () {\n\t\tlog('generate output');\n\t},\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'ple-container' },\n\t\t\tReact.createElement(Container_NavTop, {\n\t\t\t\tref: 'navTop',\n\t\t\t\tupdate: this.updatePreference,\n\t\t\t\treset: this.resetPreference,\n\t\t\t\tactAddBlock: this.actAddBlcok,\n\t\t\t\tactShuffleBlocks: this.actShuffleBlocks,\n\t\t\t\tpreference: this.state.preference }),\n\t\t\tReact.createElement(Container_Gridster, {\n\t\t\t\tref: 'gridster',\n\t\t\t\tpreference: this.state.preference,\n\t\t\t\taction: this.state.action,\n\t\t\t\tresizeWidth: this.props.resizeWidth,\n\t\t\t\tdynamicParameter: this.state.dynamicParameter }),\n\t\t\tReact.createElement(Container_NavBottom, {\n\t\t\t\tgenerate: this.generate })\n\t\t);\n\t}\n});","var Header = React.createClass({\n\n\tdisplayName: 'header',\n\n\tcomponentDidMount: function () {},\n\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t\"header\",\n\t\t\t{ className: \"ple-header\" },\n\t\t\tReact.createElement(\n\t\t\t\t\"h1\",\n\t\t\t\tnull,\n\t\t\t\t\"Photo Layout Editor\"\n\t\t\t),\n\t\t\tReact.createElement(\n\t\t\t\t\"p\",\n\t\t\t\tnull,\n\t\t\t\t\"사진 레이아웃 에디터입니다. 처음 시작하면 먼저 문서설정을 해주세요!\"\n\t\t\t)\n\t\t);\n\t}\n});","function Uploader()\n{\n\t/**\n\t * Local upload\n\t *\n\t * @Param {Array} files\n\t * @Param {Function} complete\n\t * @Return {Array}\n\t */\n\tthis.local = function(files, complete)\n\t{\n\t\tvar reader = new FileReader();\n\t\tvar i = 0;\n\t\tvar result = [];\n\t\treader.onload = function(e)\n\t\t{\n\t\t\tresult.push(e.target.result);\n\n\t\t\t// check last queue\n\t\t\tif (i == (files.length - 1))\n\t\t\t{\n\t\t\t\tcomplete(result);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// trigger next queue\n\t\t\t\ti++;\n\t\t\t\treader.readAsDataURL(files[i]);\n\t\t\t}\n\t\t};\n\t\treader.readAsDataURL(files[i]);\n\t};\n\n\t/**\n\t * External upload\n\t *\n\t * @Param {String} script\n\t * @Param {String} dir\n\t * @Param {String} url\n\t * @Param {Array} files\n\t * @Param {Function} complete\n\t * @Return {Array}\n\t */\n\tthis.external = function(script, dir, url, files, complete)\n\t{\n\t\tvar xhr = new XMLHttpRequest();\n\n\t\tif (typeof FormData === 'function' || typeof FormData === 'object')\n\t\t{\n\t\t\tvar formData = new FormData();\n\n\t\t\tfor (var i=0; i<files.length; i++)\n\t\t\t{\n\t\t\t\tformData.append('files[]', files[i]);\n\t\t\t}\n\t\t\tformData.append('dir', dir);\n\t\t\tformData.append('url', url);\n\n\t\t\txhr.open('post', script, true);\n\t\t\txhr.addEventListener('load', function(e){\n\t\t\t\tvar response = null;\n\t\t\t\tif (e.target.readyState == 4)\n\t\t\t\t{\n\t\t\t\t\tswitch (e.target.status)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 200:\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar result = JSON.parse(decodeURIComponent(e.target.responseText.replace(/\\+/g, '%20')));\n\t\t\t\t\t\t\t\tcomplete(result);\n\t\t\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\t\t\tcomplete({\n\t\t\t\t\t\t\t\t\t'state' : 'error',\n\t\t\t\t\t\t\t\t\t'message' : e.target.responseText\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 404:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate : 'error',\n\t\t\t\t\t\t\t\tmessage : '404 - File not found'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 403:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate : 'error',\n\t\t\t\t\t\t\t\tmessage : '403 - Forbidden file type'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tresponse = {\n\t\t\t\t\t\t\t\tstate : 'error',\n\t\t\t\t\t\t\t\tmessage : 'Unknown Error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresponse = {\n\t\t\t\t\t\tstate : 'error',\n\t\t\t\t\t\tmessage : 'Unknown Error'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t\txhr.send(formData);\n\t\t}\n\n\t\treturn null;\n\t}\n}","function shuffle(o)\n{\n\tfor (var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);\n\treturn o;\n}\n\nfunction getRandomRange(min, max)\n{\n\tmax += 1;\n\treturn Math.floor(Math.random() * (max - min) + min);\n}\n\n","var Sidebar_Nav = React.createClass({\n\n\tdisplayName: 'Navigation',\n\n\tgetInitialState: function () {\n\t\treturn {\n\t\t\tinputFile: React.createElement('input', { type: 'file', onChange: this.upload, multiple: true })\n\t\t};\n\t},\n\n\t/**\n  * Attach images\n  */\n\tattachImages: function () {\n\t\tlog('attach image to grid block');\n\t},\n\n\t/**\n  * Upload images\n  */\n\tupload: function (e) {\n\t\tthis.props.upload(e.target.files);\n\n\t\t// reset input[type=file]\n\t\tvar $input = $(this.refs.inputFile);\n\t\t$input.replaceWith($input.val('').clone(true));\n\t},\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t'nav',\n\t\t\t{ className: 'nav-top' },\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'wrap' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: 'attach images', onClick: this.props.attach },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico ico-arrow-left abs' },\n\t\t\t\t\t\t'Moving the image to grid block'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: 'toggle select', onClick: this.props.toggleSelect },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico ico-select abs' },\n\t\t\t\t\t\t'Toggle all select'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ title: 'upload images' },\n\t\t\t\t\tReact.createElement('input', { type: 'file', ref: 'inputFile', onChange: this.upload, multiple: true }),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico ico-upload abs' },\n\t\t\t\t\t\t'upload images'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ type: 'button', title: 'remove images', onClick: this.props.remove },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico ico-trash abs' },\n\t\t\t\t\t\t'remove images'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});\n// <button type=\"button\" onClick={this.upload}></button>","","var Sidebar_UploadFiles = React.createClass({\n\n\tdisplayName: 'UploadFiles',\n\n\tpropTypes: {\n\t\tuploadImages: React.PropTypes.array,\n\t\tupdate: React.PropTypes.func\n\t},\n\n\tgetInitialState: function () {\n\t\treturn {\n\t\t\tis_multiSelect: false\n\t\t};\n\t},\n\n\tcomponentDidMount: function () {\n\t\tvar self = this;\n\t\tvar CTRL = 17;\n\t\tvar CMD = 91;\n\t\tfunction onKeydown(e) {\n\t\t\tif (e.keyCode == CTRL || e.keyCode == CMD) {\n\t\t\t\tself.setState({ is_multiSelect: true });\n\t\t\t\t$(this).off('keydown').on('keyup', onKeyUp);\n\t\t\t}\n\t\t}\n\t\tfunction onKeyUp(e) {\n\t\t\tself.setState({ is_multiSelect: false });\n\t\t\t$(this).off('keyup').on('keydown', onKeydown);\n\t\t}\n\t\t$(window).on('keydown', onKeydown);\n\t},\n\n\tonSelect: function (e) {\n\t\tvar currentKey = parseInt(e.currentTarget.getAttribute('data-key'));\n\n\t\tif (this.state.is_multiSelect) {\n\t\t\tthis.props.uploadImages[currentKey].on = !this.props.uploadImages[currentKey].on;\n\t\t} else {\n\t\t\tthis.props.uploadImages.forEach(function (data, key) {\n\t\t\t\tdata.on = key == currentKey ? !data.on : false;\n\t\t\t});\n\t\t}\n\n\t\tthis.props.update(this.props.uploadImages);\n\t},\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\tvar self = this;\n\t\tvar items = [];\n\n\t\t// make item elements\n\t\tthis.props.uploadImages.forEach(function (item, key) {\n\t\t\titems.push(React.createElement(\n\t\t\t\t'li',\n\t\t\t\t{ key: key, 'data-key': key, onClick: self.onSelect },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ style: item.style, className: item.on ? 'on' : '' },\n\t\t\t\t\t'.img'\n\t\t\t\t)\n\t\t\t));\n\t\t});\n\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: 'upload-files' },\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'wrap' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'ul',\n\t\t\t\t\t{ ref: 'items' },\n\t\t\t\t\titems\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t}\n});","var Sidebar = React.createClass({\n\n\tdisplayName: 'Sidebar',\n\n\tpropTypes: {\n\t\tuploadScript: React.PropTypes.string\n\t},\n\n\tuploader: new Uploader(),\n\n\tgetDefaultProps: function () {\n\t\treturn {\n\t\t\tuploadScript: null\n\t\t};\n\t},\n\n\tgetInitialState: function () {\n\t\treturn {\n\t\t\tuploadImages: [{\n\t\t\t\ton: false,\n\t\t\t\timage: './assets/img/tmp-simg-01.jpg',\n\t\t\t\tstyle: { backgroundImage: 'url(./assets/img/tmp-simg-01.jpg)' }\n\t\t\t}, {\n\t\t\t\ton: false,\n\t\t\t\timage: './assets/img/tmp-simg-02.jpg',\n\t\t\t\tstyle: { backgroundImage: 'url(./assets/img/tmp-simg-02.jpg)' }\n\t\t\t}, {\n\t\t\t\ton: false,\n\t\t\t\timage: './assets/img/tmp-simg-03.jpg',\n\t\t\t\tstyle: { backgroundImage: 'url(./assets/img/tmp-simg-03.jpg)' }\n\t\t\t}, {\n\t\t\t\ton: false,\n\t\t\t\timage: './assets/img/tmp-simg-04.jpg',\n\t\t\t\tstyle: { backgroundImage: 'url(./assets/img/tmp-simg-04.jpg)' }\n\t\t\t}],\n\t\t\tis_loading: false\n\t\t};\n\t},\n\n\t/**\n  * upload images\n  *\n  * @Param {Files} array\n  */\n\tupload: function (files) {\n\t\tvar self = this;\n\t\tvar result = null;\n\t\tvar uploadFiles = [];\n\n\t\tfor (var i = 0; i < files.length; i++) {\n\t\t\tuploadFiles.push(files[i]);\n\t\t}\n\n\t\t// on loading\n\t\tthis.setState({ is_loading: true });\n\n\t\t// action upload\n\t\tif (this.props.uploadScript) {\n\t\t\t// is external script upload\n\t\t\tthis.uploader.external(this.props.uploadScript, this.props.uploadDir, this.props.uploadUrl, uploadFiles, function (response) {\n\t\t\t\tself.setState({ is_loading: false });\n\n\t\t\t\tif (response.state == 'success') {\n\t\t\t\t\tvar data = response.images;\n\n\t\t\t\t\tdata.forEach(function (o) {\n\t\t\t\t\t\tself.state.uploadImages.push({\n\t\t\t\t\t\t\ton: false,\n\t\t\t\t\t\t\timage: o.loc,\n\t\t\t\t\t\t\tstyle: { backgroundImage: 'url(' + o.loc + ')' }\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tself.setState({\n\t\t\t\t\t\tuploadImages: self.state.uploadImages\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlog(response.message);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// is local upload\n\t\t\tthis.setState({ is_loading: true });\n\t\t\tthis.uploader.local(uploadFiles, function (data) {\n\t\t\t\tvar result = self.state.uploadImages;\n\t\t\t\tself.setState({ is_loading: false });\n\n\t\t\t\tdata.forEach(function (o) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ton: false,\n\t\t\t\t\t\timage: o,\n\t\t\t\t\t\tstyle: { backgroundImage: 'url(' + o + ')' }\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tself.setState({ uploadImages: result });\n\t\t\t});\n\t\t}\n\t},\n\n\tremove: function () {\n\t\tvar self = this;\n\t\tvar selectedKeys = [];\n\n\t\tif (!this.state.uploadImages.length) {\n\t\t\talert('이미지가 없습니다.');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state.uploadImages.forEach(function (o, k) {\n\t\t\tif (o.on) {\n\t\t\t\tselectedKeys.push(k);\n\t\t\t}\n\t\t});\n\n\t\tif (selectedKeys.length) {\n\t\t\tselectedKeys.forEach(function (o) {\n\t\t\t\tdelete self.state.uploadImages[o];\n\t\t\t});\n\t\t\tthis.setState({ uploadImages: self.state.uploadImages });\n\t\t} else {\n\t\t\tif (confirm('선택된 사진이 없습니다. 전부 삭제할까요?')) {\n\t\t\t\tthis.setState({ uploadImages: [] });\n\t\t\t}\n\t\t}\n\t},\n\n\tattach: function () {\n\t\tvar items = [];\n\t\tthis.state.uploadImages.forEach(function (o) {\n\t\t\tif (o.on) {\n\t\t\t\titems.push(o.image);\n\t\t\t}\n\t\t});\n\t\tif (items.length) {\n\t\t\tthis.props.attachImages(items);\n\t\t} else {\n\t\t\talert('please select image');\n\t\t\treturn false;\n\t\t}\n\t},\n\n\ttoggleSelect: function () {\n\t\tvar items = this.state.uploadImages;\n\t\tvar $items = $(ReactDOM.findDOMNode(this.refs.files));\n\t\tvar sw = $items.find('span.on').length > 0;\n\t\titems.forEach(function (o) {\n\t\t\to.on = !sw;\n\t\t});\n\t\tthis.setState({ uploadImages: items });\n\t},\n\n\tupdate: function (data) {\n\t\tthis.setState({ uploadImages: data });\n\t},\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t'aside',\n\t\t\t{ className: 'ple-sidebar' + (this.state.is_loading ? ' loading' : '') },\n\t\t\tReact.createElement(\n\t\t\t\t'button',\n\t\t\t\t{ type: 'button', onClick: this.props.toggleSidebar, className: 'toggle' },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\tnull,\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'i',\n\t\t\t\t\t\t{ className: 'sp-ico abs' + (this.props.show ? ' ico-arrow-right2' : ' ico-arrow-left2') },\n\t\t\t\t\t\t'Toggle sidebar'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tReact.createElement(Sidebar_Nav, { ref: 'nav', upload: this.upload, remove: this.remove, attach: this.attach, toggleSelect: this.toggleSelect }),\n\t\t\tReact.createElement(Sidebar_UploadFiles, { ref: 'files', uploadImages: this.state.uploadImages, update: this.update })\n\t\t);\n\t}\n});","var Sidebar_UploadFiles_Item = React.createClass({\n\n\tdisplayName: 'Item',\n\n\t/**\n  * render\n  */\n\trender: function () {\n\t\treturn React.createElement(\n\t\t\t'li',\n\t\t\t{ onClick: this.select },\n\t\t\tReact.createElement(\n\t\t\t\t'span',\n\t\t\t\t{ style: this.props.style },\n\t\t\t\t'.img'\n\t\t\t)\n\t\t);\n\t}\n});"],"sourceRoot":"/source/"}